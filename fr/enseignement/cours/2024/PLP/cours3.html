<html>

<head>
    <meta charset="utf-8" />
    <title>Principes des Langages de Programmation : la chaine de compilation (2024-2025): John Samuel</title>
    <link rel="shortcut icon" href="../../../../../images/logo/favicon.png" />
    <style type="text/css">
        body {
            height: 100%;
            width: 100%;
            background-color: white;
            margin: 0;
            overflow: hidden;
            font-family: Arial;
        }

        .slide {
            height: 100%;
            width: 100%;
        }

        .content {
            height: 79%;
            width: 95vw;
            display: flex;
            line-height: 1.7em;
            flex-direction: column;
            align-items: flex-start;
            margin: 0 auto;
            color: #000000;
            text-align: left;
            padding-left: 1.5vmax;
            padding-top: 1.5vmax;
            overflow-x: auto;
            font-size: 2.8vmin;
            flex-wrap: wrap;
        }

        .content h1,
        h2,
        h3,
        h4 {
            color: #1B80CF;
        }

        .content .topichighlight {
            background-color: #78002E;
            color: #FFFFFF;
        }

        .content .topicheading {
            background-color: #1B80CF;
            color: #FFFFFF;
            vertical-align: middle;
            border-radius: 0 2vmax 2vmax 0%;
            height: 4vmax;
            line-height: 4vmax;
            padding-left: 1vmax;
            margin: 0.1vmax;
            width: 50%;
            margin-bottom: 1vmax;
        }

        .content .flexcontent {
            display: flex;
            overflow-y: auto;
            font-size: 2.8vmin;
            flex-wrap: wrap;
        }

        .content .gridcontent {
            display: grid;
            grid-template-columns: auto auto auto auto;
            grid-column-gap: 0px;
            grid-row-gap: 0px;
            grid-gap: 0px;
        }

        .content .topicsubheading {
            background-color: #1B80CF;
            color: #FFFFFF;
            vertical-align: middle;
            border-radius: 0 1.5vmax 1.5vmax 0%;
            height: 3vmax;
            margin: 0.1vmax;
            font-size: 90%;
            line-height: 3vmax;
            padding-left: 1vmax;
            width: 50%;
            margin-bottom: 1vmax;
        }

        .content table {
            color: #000000;
            font-size: 100%;
            width: 100%;
        }

        .content a:link,
        .content a:visited {
            color: #1B80CF;
            text-decoration: none;
        }

        .content th {
            color: #FFFFFF;
            background-color: #1B80CF;
            border-radius: 2vmax 2vmax 2vmax 2vmax;
            font-size: 120%;
            padding: 15px;
        }

        .content figure {
            max-width: 90%;
            max-height: 90%;
        }

        .content .fullwidth img {
            max-width: 90%;
            max-height: 90%;
        }

        .content figure img {
            max-width: 50vmin;
            max-height: 50vmin;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .content figure figcaption {
            max-width: 90%;
            max-height: 90%;
            margin: 0.1vmax;
            font-size: 90%;
            text-align: center;
            padding: 0.5vmax;
            background-color: #E1F5FE;
            border-radius: 2vmax 2vmax 2vmax 2vmax;
        }

        .content figure .source {
            font-size: 2vmin;
        }

        .content td {
            color: #000000;
            width: 8%;
            padding-left: 3vmax;
            padding-top: 1vmax;
            padding-bottom: 1vmax;
            background-color: #E1F5FE;
            border-radius: 2vmax 2vmax 2vmax 2vmax;
        }

        .content li {
            line-height: 1.7em;
        }

        .content {
            line-height: 1.5em;
        }

        .header {
            color: #ffffff;
            background-color: #00549d;
            height: 5vmax;
        }

        .header h1 {
            text-align: center;
            vertical-align: middle;
            font-size: 3vmax;
            line-height: 4vmax;
            margin: 0;
        }

        .footer {
            height: 3vmax;
            line-height: 3vmax;
            vertical-align: middle;
            color: #ffffff;
            background-color: #00549d;
            margin: 0;
            padding: .3vmax;
            overflow: hidden;
        }

        .footer .contact {
            float: left;
            color: #ffffff;
            text-align: left;
            font-size: 3.2vmin;
        }

        .footer .navigation {
            float: right;
            text-align: right;
            width: 8vw;
            font-size: 3vmin;
        }

        .footer .navigation .next,
        .prev {
            font-size: 3vmin;
            color: #ffffff;
            text-decoration: none;
        }

        .footer .navigation .next::after {
            content: "| >";
        }

        .footer .navigation .prev::after {
            content: "< ";
        }

        /* Using same Jupyter CSS
     */

        .highlight {
            background: #f8f8f8;
        }

        .highlight .c {
            color: #408080;
            font-style: italic
        }

        /* Comment */

        .highlight .err {
            border: 1px solid #FF0000
        }

        /* Error */

        .highlight .k {
            color: #008000;
            font-weight: bold
        }

        /* Keyword */

        .highlight .o {
            color: #666666
        }

        /* Operator */

        .highlight .ch {
            color: #408080;
            font-style: italic
        }

        /* Comment.Hashbang */

        .highlight .c1 {
            color: #408080;
            font-style: italic
        }

        /* Comment.Single */

        .highlight .cs {
            color: #408080;
            font-style: italic
        }

        /* Comment.Special */

        .highlight .cm {
            color: #408080;
            font-style: italic
        }

        /* Comment.Multiline */

        .highlight .nn {
            color: #0000FF;
            font-weight: bold
        }

        /* Name.Namespace */

        .highlight .k {
            color: #008000;
            font-weight: bold
        }

        /* Keyword */

        .highlight .s2 {
            color: #BA2121
        }

        /* Literal.String.Double */

        .highlight .s1 {
            color: #BA2121
        }

        /* Literal.String.Single */

        .highlight .kn {
            color: #008000;
            font-weight: bold
        }

        /* Keyword.Namespace */

        .highlight .nb {
            color: #008000
        }

        /* Name.Builtin */

        .highlight .mb {
            color: #666666
        }

        /* Literal.Number.Bin */

        .highlight .mf {
            color: #666666
        }

        /* Literal.Number.Float */

        .highlight .mh {
            color: #666666
        }

        /* Literal.Number.Hex */

        .highlight .mi {
            color: #666666
        }

        /* Literal.Number.Integer */

        .highlight .mo {
            color: #666666
        }

        /* Literal.Number.Oct */

        @media (max-width: 640px),
        screen and (orientation: portrait) {
            body {
                max-width: 100%;
                max-height: 100%;
            }

            .slide {
                height: 100%;
                width: 100%;
            }

            .content {
                width: 100%;
                height: 92%;
                display: flex;
                flex-direction: row;
                text-align: left;
                padding: 1vw;
                line-height: 3.8vmax;
                font-size: 1.8vmax;
                flex-wrap: wrap;
            }

            .content .topicheading {
                width: 90%;
            }

            .content h1,
            h2,
            h3,
            h4 {
                width: 100%;
            }

            .content figure img {
                max-width: 80vmin;
                max-height: 50vmin;
            }

            .content figure figcaption {
                max-width: 90%;
                max-height: 90%;
            }
        }

        @media print {
            body {
                max-width: 100%;
                max-height: 100%;
            }

            .content {
                font-size: 2.5vmin;
            }

            .content .flexcontent {
                font-size: 2.5vmin;
            }
        }
    </style>
</head>

<body>
    <section class="slide" id="slide1">
        <div class="header">
        </div>
        <div class="content">
            <h1 style="font-size:3.5vmin">Principes des Langages de Programmation</br>
                <span style="line-height:3.5vmax;font-size:3.0vmin">
                    La chaine de compilation<span>
            </h1>
            <p><b>John Samuel</b></br>
                CPE Lyon<br /><br />
                <b>Ann√©e</b>: 2024-2025<br />
                <b>Courriel</b>: john.samuel@cpe.fr</br>
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img
                        alt="Creative Commons License" style="border-width:0"
                        src="../../../../../en/teaching/courses/2017/C/88x31.png" /></a>
            </p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">1

                <a class="next" href="#slide2"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide2">
        <div class="header">
            <h1>3. Principes des Langages de Programmation : Objectifs</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">Objectifs</h3>
            <ul>
                <li>La chaine de compilation</li>
                <li>Pr√©processeur</li>
                <li>Langage interm√©diaire</li>
                <li>Optimisation de code</li>
                <li>G√©n√©ration de code natif</li>
                <li>Code objet</li>
            </ul>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">2
                <a class="prev" href="#slide1"></a>
                <a class="next" href="#slide3"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide3">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <figure>
                <img src="../../../../../en/teaching/courses/2017/C/images/compiler.svg" height="400vh" />
            </figure>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">3
                <a class="prev" href="#slide2"></a>
                <a class="next" href="#slide4"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide4">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p><strong>1. Pr√©traitement (√âtape 1)</strong></p>
            <ul>
                <li><strong>Expansion des macros</strong> : Le pr√©processeur remplace les macros par leurs formes
                    d√©velopp√©es.</li>
                <li><strong>Inclusion de fichiers</strong> : Le pr√©processeur inclut les fichiers sp√©cifi√©s par les
                    directives <code>#include</code>, qui peuvent √™tre des fichiers d‚Äôen-t√™te ou des fragments de code
                    source.</li>
                <li><strong>Compilation conditionnelle</strong> : Le pr√©processeur permet la compilation conditionnelle
                    en fonction des directives <code>#ifdef</code>, <code>#ifndef</code>, <code>#else</code> et
                    <code>#endif</code>.
                </li>
            </ul>
            <p>La sortie du pr√©traitement est une version modifi√©e du code source original, qui est ensuite transmise √†
                l‚Äô√©tape suivante.</p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">4
                <a class="prev" href="#slide3"></a>
                <a class="next" href="#slide5"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide5">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p><strong>2. Analyse lexicale (√âtape 2)</strong></p>
            <ul>
                <li><strong>Tokenisation</strong> : L‚Äôanalyseur lexical divise le code source en jetons individuels,
                    tels que des mots-cl√©s, des identificateurs, des litt√©raux et des symboles.</li>
                <li><strong>Classification des caract√®res</strong> : L‚Äôanalyseur lexical classe les caract√®res en
                    diff√©rentes cat√©gories en fonction de leur signification dans le code source.</li>
            </ul>
            <p>La sortie de l‚Äôanalyse lexicale est une liste de jetons, qui est ensuite transmise √† l‚Äôanalyseur
                syntaxique pour un traitement ult√©rieur.</p>

        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">5
                <a class="prev" href="#slide4"></a>
                <a class="next" href="#slide6"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide6">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p><strong>3. Analyse syntaxique (√âtape 3)</strong></p>
            <ul>
                <li><strong>G√©n√©ration de l‚Äôarbre syntaxique</strong> : L‚Äôanalyseur syntaxique construit un arbre
                    syntaxique abstrait (AST) √† partir du flux de jetons.</li>
                <li><strong>D√©tection et rapport d‚Äôerreurs</strong> : L‚Äôanalyseur syntaxique identifie les erreurs de
                    syntaxe dans le code source et les signale √† l‚Äôutilisateur.</li>
            </ul>
            <p>La sortie de l‚Äôanalyse syntaxique est un AST valid√©, qui repr√©sente la structure syntaxique du programme.
                Cette √©tape garantit que le code source respecte les r√®gles de syntaxe du langage.</p>

        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">6
                <a class="prev" href="#slide5"></a>
                <a class="next" href="#slide7"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide7">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p><strong>4. Analyse s√©mantique (√âtape 4)</strong></p>
            <ul>
                <li><strong>V√©rification des types</strong> : L‚Äôanalyseur s√©mantique v√©rifie que les types des variables
                    et des expressions correspondent aux types attendus.</li>
                <li><strong>Analyse de port√©e</strong> : L‚Äôanalyseur s√©mantique r√©sout les d√©clarations de variables,
                    les appels de fonctions et les autres probl√®mes de port√©e.</li>
                <li><strong>Propagation des contraintes</strong> : L‚Äôanalyseur s√©mantique propage les contraintes et les
                    informations entre les diff√©rentes parties du programme.</li>
            </ul>
            <p>La sortie de l‚Äôanalyse s√©mantique est un AST valid√© avec des informations de type et de port√©e. Cette
                √©tape garantit que le code source respecte les r√®gles s√©mantiques du langage.</p>

        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">7
                <a class="prev" href="#slide6"></a>
                <a class="next" href="#slide8"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide8">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p><strong>5. G√©n√©ration de code interm√©diaire (√âtape 5)</strong></p>
            <ul>
                <li><strong>Traduction de l‚Äôarbre syntaxique abstrait</strong> : Le g√©n√©rateur de code interm√©diaire
                    traduit l‚ÄôAST valid√© en une repr√©sentation interm√©diaire, telle que du bytecode ou des arbres
                    syntaxiques abstraits.</li>
                <li><strong>Identification des opportunit√©s d‚Äôoptimisation</strong> : Le g√©n√©rateur de code
                    interm√©diaire identifie les opportunit√©s d‚Äôoptimisation potentielles dans le programme.</li>
            </ul>
            <p>La sortie de la g√©n√©ration de code interm√©diaire est une repr√©sentation interm√©diaire ind√©pendante de la
                plate-forme, qui peut √™tre ex√©cut√©e par un environnement d‚Äôex√©cution. Cette √©tape garantit que le code
                source est converti en une forme qui peut √™tre ex√©cut√©e de mani√®re efficace.</p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">8
                <a class="prev" href="#slide7"></a>
                <a class="next" href="#slide9"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide9">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p><strong>6. G√©n√©ration de code natif (√âtape 6)</strong></p>
            <ul>
                <li><strong>Optimisation du code</strong> : Le g√©n√©rateur de code natif applique diverses optimisations
                    pour am√©liorer les performances, telles que l‚Äô√©limination de code mort et l‚Äôallocation de registres.
                </li>
                <li><strong>G√©n√©ration d‚Äôinstructions natives</strong> : Le g√©n√©rateur de code natif g√©n√®re des
                    instructions sp√©cifiques √† la machine √† partir de la repr√©sentation interm√©diaire.</li>
            </ul>
            <p>La sortie de la g√©n√©ration de code natif est le code ex√©cutable final qui peut √™tre ex√©cut√© directement
                sur la plate-forme cible. Cette √©tape garantit que le code source est traduit en code machine optimis√©
                pour l‚Äôex√©cution.</p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">9
                <a class="prev" href="#slide8"></a>
                <a class="next" href="#slide10"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide10">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p>Supposons que nous ayons un programme ‚ÄúHello, World!‚Äù simple √©crit en C :</p>
            <div class="highlight">
                <pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bonjour le monde !!!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre>
            </div>


        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">10
                <a class="prev" href="#slide9"></a>
                <a class="next" href="#slide11"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide11">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <p>Le processus de compilation se d√©roulerait comme suit :</p>
            <ol type="1">
                <li><strong>Pr√©traitement</strong> : Le pr√©processeur d√©veloppe la directive <code>#include</code> pour
                    inclure le fichier d‚Äôen-t√™te de la biblioth√®que standard.</li>
                <li><strong>Analyse lexicale</strong> : L‚Äôanalyseur lexical divise le code source en jetons individuels,
                    tels que des mots-cl√©s, des identificateurs, des litt√©raux et des symboles.</li>
                <li><strong>Analyse syntaxique</strong> : L‚Äôanalyseur syntaxique construit un arbre syntaxique abstrait
                    (AST) √† partir du flux de jetons, qui repr√©sente la structure syntaxique du programme.</li>
            </ol>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">11
                <a class="prev" href="#slide10"></a>
                <a class="next" href="#slide12"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide12">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">6 √©tapes de la chaine de compilation</h3>
            <ol start="4">
                <li><strong>Analyse s√©mantique</strong> : L‚Äôanalyseur s√©mantique v√©rifie que les types des variables et
                    des expressions correspondent aux types attendus et r√©sout les probl√®mes de port√©e.</li>
                <li><strong>G√©n√©ration de code interm√©diaire</strong> : Le g√©n√©rateur de code interm√©diaire traduit
                    l‚ÄôAST valid√© en bytecode ou en arbres syntaxiques abstraits.</li>
                <li><strong>G√©n√©ration de code natif</strong> : Le g√©n√©rateur de code natif applique des optimisations
                    et g√©n√®re des instructions sp√©cifiques √† la machine √† partir de la repr√©sentation interm√©diaire.
                </li>
            </ol>
            <p>La sortie finale est le code ex√©cutable qui peut √™tre ex√©cut√© directement sur la plate-forme cible.</p>


        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">12
                <a class="prev" href="#slide11"></a>
                <a class="next" href="#slide13"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide13">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">1. Pr√©processeur</h3>
            <p>Cette √©tape consiste √† traiter les directives de pr√©processeur contenues dans le code source, telles que
                les directives d'inclusion (#include) et de remplacement de macros (#define). Le r√©sultat est
                g√©n√©ralement un fichier source modifi√© avec ces directives r√©solues.</p>
            <h3>cercle.c</h3>
            <code><span style="color:purple">#ifndef</span> PI</br>
			<span style="color:purple">#define</span> PI 3.14159</br>
			<span style="color:purple">#endif</span></br></br>

			<span style="color:green">float</span> <span style="color:blue">aire</span>(
			<span style="color:green">float</span> <span style="color:blue">rayon</span>) { <br>
			&nbsp;<span style="color:green">return</span>(PI * <span style="color:blue">rayon</span>
						* <span style="color:blue">rayon</span>);<br>
			}<br>
                        </code>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">13
                <a class="prev" href="#slide12"></a>
                <a class="next" href="#slide14"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide14">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">1. Pr√©processeur</h3>
            <code>
                  $ gcc -E cercle.c
		  # 1 "cercle.c"</br>
# 1 "<built-in>"</br>
# 1 "<command-line>"</br>
# 31 "<command-line>"</br>
# 1 "/usr/include/stdc-predef.h" 1 3 4</br>
# 32 "<command-line>" 2</br>
# 1 "cercle.c"</br>
</br>
float aire(float rayon) {</br>
  return(3.14 * rayon * rayon);</br>
}</br>
                  </code>
            <p>Le r√©sultat affiche le code source apr√®s le traitement des directives de pr√©processeur. Cela peut inclure
                des inclusions de fichiers, la r√©solution de macros et d'autres transformations avant la compilation
                proprement dite.</p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">14
                <a class="prev" href="#slide13"></a>
                <a class="next" href="#slide15"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide15">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">2. Langage interm√©diaire</h3>
            <p>Ces √©tapes montrent comment le code source est transform√© en diverses repr√©sentations interm√©diaires
                avant d'atteindre le code machine final. Chacune de ces √©tapes permet une analyse et une optimisation du
                code √† diff√©rents niveaux.</p>
            <code>
                  $ gcc -v bonjour.c # les √©tapes importantes</br>
                  $ gcc -save-temps -v bonjour.c # les fichiers *.i, *.s</br>
                  $ gcc -fdump-tree-all bonjour.c</br>
                  $ gcc -fdump-rtl-all bonjour.c</br>
                  </code>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">15
                <a class="prev" href="#slide14"></a>
                <a class="next" href="#slide16"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide16">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">2. Langage interm√©diaire</h3>
            <p>Ce code g√©n√©r√© montre comment les op√©rations math√©matiques sont exprim√©es en AST (Abstract Syntax Tree -
                arbre de syntaxe abstraite).</p>
            <code>
                  $ gcc -fdump-tree-all -c cercle.c</br>
		  $ cat cercle.c.005t.gimple</br>
aire (float rayon)</br>
{</br>
  float D.1914;</br>
  _1 = (double) rayon;</br>
  _2 = _1 * 3.140000000000000124344978758017532527446746826171875e+0;</br>
  _3 = (double) rayon;</br>
  _4 = _2 * _3;</br>
  D.1914 = (float) _4;</br>
  return D.1914;</br>
}
                  </code>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">16
                <a class="prev" href="#slide15"></a>
                <a class="next" href="#slide17"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide17">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">3. Optimisation de code</h3>
            <code>
                  $ gcc -O2 bonjour.c</br>
                  </code>
            <ul>
                <li>-O1 : Niveau d'optimisation 1. Il applique des optimisations
                    de base pour am√©liorer les performances tout en maintenant une bonne
                    exp√©rience de d√©bogage.</li>
                <li>-O2 : Niveau d'optimisation 2. Il applique des optimisations
                    plus avanc√©es, ce qui peut entra√Æner une meilleure performance, mais la
                    compilation peut prendre plus de temps. </li>
                <li>-O3 : Niveau d'optimisation 3. Il applique des optimisations
                    plus agressives que -O2, ce qui peut donner de meilleures performances,
                    mais la compilation peut prendre plus de temps et la taille du fichier
                    ex√©cutable peut augmenter.</li>
                <li>-Os : Optimisation de la taille du binaire. Il cherche √†
                    r√©duire la taille du fichier ex√©cutable, ce qui peut √™tre utile dans des
                    environnements avec des contraintes de stockage.</li>
                <li>-Ofast : Niveau d'optimisation √©lev√©. Il applique des
                    optimisations maximales, souvent au d√©triment de la taille du fichier
                    ex√©cutable. Utilis√© pour obtenir la meilleure performance possible.</li>
                <li>-Og : Optimisation pour le d√©bogage. Il optimise le code
                    tout en conservant des informations de d√©bogage utiles. </li>
            </ul>

        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">17
                <a class="prev" href="#slide16"></a>
                <a class="next" href="#slide18"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide18">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">4. G√©n√©ration de code natif</h3>
            <p>L'option -S indique au compilateur de produire le code assembleur au lieu de g√©n√©rer un ex√©cutable. Le
                r√©sultat de cette √©tape est un fichier avec l'extension .s, qui contient le code assembleur g√©n√©r√©.</p>
            <code>
                  $ gcc -S bonjour.c</br>
                  $ cat bonjour.s
                  </code>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">18
                <a class="prev" href="#slide17"></a>
                <a class="next" href="#slide19"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide19">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">4. G√©n√©ration de code natif et l'optimisation de code</h3>
            <code style="width:40%">
                  <span style="color: green">int</span> <span style="color:blue">main</span>() {</br>
                  &nbsp;&nbsp;<span style="color: green">int</span> <span style="color: blue">num</span> = 2 + 3;</br>
                  &nbsp;&nbsp;<span style="color: green">return</span>(0);</br>
                  }
                  </code>
            <h3>Compilation (Pas d'optimisations)</h3>
            <code style="width:40%">
                  $ gcc -O0 -S somme.c
                  </code>
            <p style="width:40%">L'absence d'optimisation (-O0) signifie que le compilateur n'a pas appliqu√©
                d'optimisations particuli√®res, ce qui permet d'obtenir un code assembleur directement √©quivalent au code
                C source. </p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">19
                <a class="prev" href="#slide18"></a>
                <a class="next" href="#slide20"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide20">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">4. G√©n√©ration de code natif et l'optimisation de code</h3>
            <h3 style="width:40%">somme.s</h3>
            <code style="width:40%">
                    main:</br>
                    .LFB0:</br>
                    &nbsp;&nbsp;.cfi_startproc</br>
                    &nbsp;&nbsp;pushq   %rbp</br>
                    &nbsp;&nbsp;.cfi_def_cfa_offset 16</br>
                    &nbsp;&nbsp;.cfi_offset 6, -16</br>
                    &nbsp;&nbsp;movq    %rsp, %rbp</br>
                    &nbsp;&nbsp;.cfi_def_cfa_register 6</br>
                    &nbsp;&nbsp;movl    $5, -4(%rbp)</br>
                    &nbsp;&nbsp;movl    $0, %eax</br>
                    &nbsp;&nbsp;popq    %rbp</br>
                    &nbsp;&nbsp;.cfi_def_cfa 7, 8</br>
                    &nbsp;&nbsp;ret</br>
                    &nbsp;&nbsp;.cfi_endproc</br>
                  </code>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">20
                <a class="prev" href="#slide19"></a>
                <a class="next" href="#slide21"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide21">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">4. G√©n√©ration de code natif et l'optimisation de code</h3>
            <code style="width:30%">
                  <span style="color: green">int</span> <span style="color:blue">main</span>() {</br>
                  &nbsp;&nbsp;<span style="color: green">int</span> <span style="color: blue">num</span> = 2 + 3;</br>
                  &nbsp;&nbsp;<span style="color: green">return</span>(0);</br>
                  }
                  </code>
            <code style="width:20%">
                  $ gcc -O2 -S somme.c
                  </code>
            <code style="width:20%">
                  <h3>somme.s</h3>
                    main:</br>
                    .LFB0:</br>
                    &nbsp;&nbsp;.cfi_startproc</br>
                    &nbsp;&nbsp;xorl    %eax, %eax</br>
                    &nbsp;&nbsp;ret</br>
                    &nbsp;&nbsp;.cfi_endproc</br>
                  </code>
            <p style="width:40%">
                <b>Compilation (optimisation: 2)</b> :
                L'optimisation de niveau 2 a permis au compilateur de reconna√Ætre que l'addition 2 + 3 est constante et
                que la valeur de retour de la fonction est toujours 0. Par cons√©quent, le calcul inutile est √©limin√©, ce
                qui donne un code assembleur tr√®s efficace et court. Cette optimisation est typique des optimisations de
                constantes que le compilateur peut effectuer pour am√©liorer les performances du code.
            </p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">21
                <a class="prev" href="#slide20"></a>
                <a class="next" href="#slide22"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide22">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">4. G√©n√©ration de code</h3>
            <h4>sur une machine d'architecture 64 bits</h4>
            <code>
                  $ gcc bonjour.c</br>
                  $ file a.out </br>
                  &nbsp;a.out: ELF 64-bit LSB shared object, x86-64</br>
                  </code>
            <p>Cela signifie que le programme compil√© est con√ßu pour √™tre ex√©cut√© sur une machine d'architecture 64
                bits, sp√©cifiquement une architecture x86-64.</p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">22
                <a class="prev" href="#slide21"></a>
                <a class="next" href="#slide23"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide23">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">4. G√©n√©ration de code</h3>
            <h4>sur une machine d'architecture 64 bits</h4>
            <p>Cette commande indique au compilateur GCC de g√©n√©rer un ex√©cutable 32 bits en utilisant l'architecture
                i686 (Intel 80386). L'option -m32 sp√©cifie que l'ex√©cutable doit √™tre compil√© en tant qu'application 32
                bits.</p>
            <code>
                  $ gcc -march=i686 -m32 bonjour.c</br>
            </code>
            <p>Cette commande est similaire √† la pr√©c√©dente, mais elle g√©n√®re √©galement le code assembleur (-S) pour le
                programme.</p>
            <code>
                  $ gcc -S -march=i686 -m32 bonjour.c</br>
                  $ file ./a.out </br>
                  &nbsp;./a.out: ELF 32-bit LSB shared object, Intel 80386</br>
                  </code>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">23
                <a class="prev" href="#slide22"></a>
                <a class="next" href="#slide24"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide24">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3 class="topicsubheading">5. Code objet</h3>
            <p>Cette commande compile le fichier source "client.c" en un fichier objet "client.o". L'option -c indique
                au compilateur de g√©n√©rer uniquement le fichier objet sans produire d'ex√©cutable. Cela permet de diviser
                le processus de compilation en deux √©tapes.</p>
            <code>
                $ gcc -c client.c </br>
                $ gcc -c color.c </br>
            </code>
            <p>Cette commande prend les fichiers objets "color.o" et "client.o" et les compile en un ex√©cutable nomm√©
                "color". Le compilateur lie les fichiers objets pour cr√©er l'ex√©cutable final.</p>
            <code>
                $ gcc -o color color.o client.o </br>
                </code>
            <p>Cette approche est couramment utilis√©e pour s√©parer la compilation en plusieurs √©tapes, ce qui peut √™tre
                utile dans des projets plus importants o√π diff√©rentes parties du programme sont g√©r√©es s√©par√©ment avant
                d'√™tre li√©es ensemble pour former l'ex√©cutable final.</p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">24
                <a class="prev" href="#slide23"></a>
                <a class="next" href="#slide25"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide25">
        <div class="header">
            <h1>3.1. La chaine de compilation</h1>
        </div>
        <div class="content">
            <h3>5. Code objet (Modifications et recompilation)</h3>
            <code>
		                    $ gcc -c client.c color.c <br>
                $ gcc -o client client.o color.o <br>
                $ vim client.c <span style="color: blue"> # Modification du fichier </span><br>
                $ gcc -c client.c <br>
                $ vim client.c <span style="color: blue"> # Modification du fichier </span><br>
                $ gcc -c client.c <br>
                $ gcc -o client client.o color.o <br>
                </code>
            <p>L'objectif de cette s√©quence de commandes est de compiler des fichiers source en fichiers objet, puis de
                recompiler le programme avec des modifications apport√©es au fichier source "client.c". Cela permet de
                mettre √† jour le programme en refl√©tant les changements apport√©s au code source sans avoir √† recompiler
                enti√®rement toutes les sources. Cela peut acc√©l√©rer le processus de d√©veloppement en √©vitant de
                recompiler inutilement les parties du programme qui n'ont pas chang√©.
            </p>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">25
                <a class="prev" href="#slide24"></a>
                <a class="next" href="#slide26"></a>
            </div>
        </div>
    </section>
    <section class="slide" id="slide26">
        <div class="header">
            <h1>3. Principes des Langages de Programmation : R√©f√©rences</h1>
        </div>
        <div class="content">
            <h1>R√©f√©rences</h1>
            <ul>
                <li>Langage C, Claude Delannoy</li>
                <li><a
                        href="https://fr.wikipedia.org/wiki/Alignement_en_m%C3%A9moire">https://fr.wikipedia.org/wiki/Alignement_en_m√©moire</a>
                </li>
                <li><a href="https://fr.wikipedia.org/wiki/Compilateur">https://fr.wikipedia.org/wiki/Compilateur</a>
                </li>
                <li><a
                        href="https://fr.wikipedia.org/wiki/G%C3%A9n%C3%A9ration_de_code_natif">https://fr.wikipedia.org/wiki/G%C3%A9n%C3%A9ration_de_code_natif</a>
                </li>
            </ul>
            <h1>Cr√©dits d'images</h1>
            <ul>
                <li><a href="https://commons.wikimedia.org/wiki/Main_Page">Wikimedia Commons</a></li>
            </ul>
        </div>
        <div class="footer">
            <div class="contact">Principes des Langages de Programmation | John Samuel</div>
            <div class="navigation">26
                <a class="prev" href="#slide25"></a>
            </div>
        </div>
    </section>

    <script>
        function changeCurrentURLSlideNumber(isIncrement) {
            url = window.location.href;
            position = url.indexOf("#slide");
            if (position != -1) { // Not on the first page
                slideIdString = url.substr(position + 6);
                if (!Number.isNaN(slideIdString)) {
                    slideId = parseInt(slideIdString);
                    if (isIncrement) {
                        if (slideId < 26) {
                            slideId = slideId + 1;
                        }
                    } else {
                        if (slideId > 1) {
                            slideId = slideId - 1;
                        }
                    }
                    url = url.replace(/#slide\d+/g, "#slide" + slideId);
                    window.location.href = url;
                }
            } else {
                window.location.href = url + "#slide2";
            }
        }
        document.onkeydown = function (event) {

            event.preventDefault();
            /* This will ensure the default behavior of
                                                            page scroll behaviour (up, down, right, left)*/

            event = event || window.event;
            if (event.keyCode == '37') {
                // left
                changeCurrentURLSlideNumber(false);
            } else if (event.keyCode == '38') {
                // up
                changeCurrentURLSlideNumber(false);
            } else if (event.keyCode == '39') {
                // right
                changeCurrentURLSlideNumber(true);
            } else if (event.keyCode == '40') {
                // down
                changeCurrentURLSlideNumber(true);
            }
        }
        document.body.onmouseup = function (event) {
            event = event || window.event;
            event.preventDefault();
            changeCurrentURLSlideNumber(true);
        }
    </script>
</body>

</html>