<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Language" content="en"/>
    <link rel="shortcut icon" href="../../images/logo/favicon.png"/>
    <title>Chimie et Numérique (2017-2018): Travaux pratiques 3: John Samuel</title>
    <style type="text/css">
    body{
      background-color: #FFFFFF;
    }
    #sidebar {
      position: fixed;
      background-color: #00363a;
      top: 0;
      left: 0;
      bottom: 0;
      width:25vw;
    }
    #sidebar .title {
      position:relative;
      text-align: center;
      line-height: 5vmax;
      font-size: 1.4vmax;
      font-family: 'Arial';
      margin-top: 30vh;
    }
    #sidebar .title a:link,
    #sidebar .title a:visited{
     color: #FFFFFF;
     text-decoration:none;
    }
    .subtitle {
      top: 50vh;
      text-align: center;
      line-height: 1.3vmax;
      font-family: 'Arial';
      font-size: 1.5vmax;
      color: #FFFFFF;
    }
    a:link, a:visited {
     color:#00363a;
    }
    .subtitle a:link,
    .subtitle a:visited{
     color: #FFFFFF;
     text-decoration:none;
    }
    .licence {
      position:fixed;
      text-align: right;
      bottom:0;
      right:0;
    }
    .home {
     position:fixed;
     text-align: left;
     font-family: 'Arial';
     color: #D3D3D3;
     z-index:100;
     width:100%;
     background-color:#FFFFFF;
     top:0px;
     margin-bottom:10px;
     padding-bottom:10px;
    }
    .codeexample {
      background-color:#eeeeee;
    }
    .home ul{
      margin: 0;
      padding: 0;
      text-align: left;
      list-style:none;
    }
    .home li{
     position: relative;
     float: left;
     padding-top:15px;
     margin-right: 1em;
     font-family: 'Arial';
    }
    .home li:hover {
      display:block;
    }
    .home a:link,
    .home a:visited{
     color: #D3D3D3;
    }
    .home li:hover a:link,
    .home li:hover a:visited{
      text-decoration:none;
      padding:15px;
      color:#FFFFFF;
      background-color: #00363a;
    }
    .content {
     line-height: 1.8vmax;
     font-size: 1.2vmax;
     font-family: 'Arial';
     margin-top: 15vh;
     width:90%;
    }
    .content h2, h3, h4{
     color:#00363a;
    }
    .content a:link,
    .content a:visited{
     color: #00363a;
    }
    .content h2::before,
    .content h3::before{
       display: block;
       content : " ";
       visibility:hidden;
       height:50px;
       margin-top:-50px;
       pointer-events: none;
       background-color:#FFFFFF;
    }
    .content a:link,
    .content a:visited{
     color:#00363a;
    }
    .content li {
      margin:5px;
    }
    .exercise {
     margin-left:2vw;
    }
    .exercise p{
     margin-left:1vw;
    }
    .exercise img{
     width:100%;
    }
    .content a:link,
    .content a:visited{
     color:#00363a;
    }
    .home a:link,
    .home a:visited{
     color: #D3D3D3;
    }
    .page {
      width:65vw;
      height:100%;
      margin-left:25vw;
      overflow: auto;
      padding: 0 1em;
    }
    img {
     max-width:100%;
     max-height:100%;
    }
    /* Using same Jupyter CSS
     */
    .highlight  { background: #f8f8f8; }
    .highlight .c { color: #408080; font-style: italic } /* Comment */
    .highlight .err { border: 1px solid #FF0000 } /* Error */
    .highlight .k { color: #008000; font-weight: bold } /* Keyword */
    .highlight .o { color: #666666 } /* Operator */
    .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
    .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
    .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
    .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
    .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
    .highlight .k { color: #008000; font-weight: bold } /* Keyword */
    .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
    .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
    .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
    .highlight .nb { color: #008000 } /* Name.Builtin */
    .highlight .mb { color: #666666 } /* Literal.Number.Bin */
    .highlight .mf { color: #666666 } /* Literal.Number.Float */
    .highlight .mh { color: #666666 } /* Literal.Number.Hex */
    .highlight .mi { color: #666666 } /* Literal.Number.Integer */
    .highlight .mo { color: #666666 } /* Literal.Number.Oct */
    @media (max-width: 640px), screen and (orientation: portrait) {
      body {
        max-width:100%;
        max-height:100%;
      }
      #sidebar {
        position: fixed;
        background-color: #00363a;
        top: 0;
        left: 0;
        bottom: 80vh;
        width:100vw;
      }
      #sidebar .title {
        text-align: center;
        position: fixed;
        margin-top: 6vh;
        left:0px;
        right:0px;
        line-height: 3.5vmax;
        font-size: 1.5vmax;
        font-family: 'Arial';
      }
      #sidebar .subtitle {
        text-align:center;
        top: 5vh;
        left:0px;
        right:0px;
        position: fixed;
        margin-top: 10vh;
        font-size: 1.5vmax;
      }
      #sidebar .title a:link,
      #sidebar .title a:visited{
        text-align:center;
        color:#FFFFFF;
      }
      #sidebar .subtitle a:link,
      #sidebar .subtitle a:visited{
        text-align:center;
        color:#FFFFFF;
      }
      .home{
        z-index:100;
        width:100%;
        background-color:#00363a;
        font-size:1.5vmax;
      }
      .home a:link,
      .home a:visited{
        text-decoration:none;
        color:#FFFFFF;
      }
      .content {
        line-height: 3.8vmax;
        font-size: 1.8vmax;
        font-family: 'Arial';
        margin-top:22vh;
      }
      .content a:link,
      .content a:visited{
        color:#00363a;
      }
      .page {
        top: 40vh;
        width:95%;
        margin-left:0vw;
      }
      .page img {
        max-width:100%;
        max-height:100%;
        border:0;
      }
    }

    </style>
  </head>
  <body vocab="http://schema.org/">
    <div id="sidebar">
     <div class="title">
      <h1><a href="./index.html">Travaux Pratiques: Chimie et Numérique</a></h1>
     </div>
     <div class="subtitle">
      <h3><a href="../../../../apropos.html">John Samuel</a></h3>
     </div>
    </div>
    <div class="licence"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="./../../../../../images/license.png"/></a>
    </div>
    <div class="page">
      <div class="home">
       <ul typeof="BreadcrumbList">
        <li property="itemListElement" typeof="ListItem">
          <a property="item" typeof="WebPage" href="../../../../index.html">
            <span property="name">Accueil</span>
          </a>
        </li>
        <li property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="index.html">
          <span property="name">Chimie et Numérique</span>
         </a>
        </li>
        <li property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="../../../index.html">
          <span property="name">Enseignement</span>
         </a>
        </li>
       </ul>
      </div>
      <div class="content">
        <h3>Objectifs</h3>
        <ul>
          <li>Analyse de données capteurs</li>
          <li>Partitionnement de données</li>
          <li>Touver des couleurs dominantes dans une image</li>
          <li>Prévision</li>
          <li>Reconnaissance de l'écriture manuscrite</li>
        </ul>
        <h3>Evaluation</h3>
        <p>Chaque exercice a un niveau de difficulté. Les exercices faciles et de difficulté moyenne vous aident pour comprendre les fondamentaux. Il est recommandé de finir ces exercices avant de commencer les exercices difficiles. Le niveau de difficulté de l'exercice:</p>
        <ol>
          <li><span style="color:red">&#9733;</span>: Facile</li>
          <li><span style="color:red">&#9733;&#9733;</span>: Moyen</li>
          <li><span style="color:red">&#9733;&#9733;&#9733;</span>: Difficile</li>
        </ol>
        <h4>Exercice 1 <span style="color:red">&#9733;</span></h4>
        <div class="exercise">
          <h5>1. Données capteurs</h5>
          <p>Copier ce fichier <a href="valeurs.json">valeurs.json</a> dans votre repertoire afin de faire l'analyse.</p>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json</br>
              </br>
              data = json.load(open('valeurs.json'))</br>
              dataframe = json_normalize(data["values"])</br>
              print(dataframe)</br>
            </code>
          </p>
          <p>Affichez le type de données.</p>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json</br>
              </br>
              data = json.load(open('valeurs.json'))</br>
              dataframe = json_normalize(data["values"])</br>
              print(dataframe.dtypes)</br>
            </code>
          </p>
          <h5>2. Changement de type de données</h5>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json</br>
              import datetime </br>
              </br>
              data = json.load(open('valeurs.json'))</br>
              dataframe = json_normalize(data["values"])</br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32",</br>
              &nbsp;&nbsp;"UV" : "int32", "date" : datetime.datetime})</br>
              print(dataframe.dtypes)</br>
            </code>
          </p>
          <h5>3. Visualisation de données</h5>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json</br>
              import matplotlib.pyplot as plot</br>
              import datetime </br>
              </br>
              data = json.load(open('valeurs.json'))</br>
              dataframe = json_normalize(data["values"])</br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32",</br>
              &nbsp;&nbsp;"UV" : "int32", "date" : datetime.datetime})</br>
              plot.plot(dataframe["date"], dataframe["humidity"])</br>
              plot.show()</br>
            </code>
          </p>
          <p>Modifiez le code au-dessus et comparez la différence en performance.</p>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json </br>
              import matplotlib.pyplot as plot</br>
              import datetime</br>
              </br>
              data = json.load(open('valeurs.json')) </br>
              dataframe = json_normalize(data["values"]) </br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32", "UV" : "int32", </br>
              &nbsp;&nbsp;"date" : datetime.datetime}) </br>
              plot.figure()</br>
              dataframe.plot(x='date', y= 'humidity')</br>
              plot.show()</br>
            </code>
          </p>
          <p><b>Question 1</b>: En continuant avec le fichier valeurs.json, codez en Python en utilisant pandas afin d'avoir les résultats suivants:
          </p>
          <ul>
            <li>Tracer un graphique montrant la luminosité en fonction de temps</li>
            <li>Tracer un graphique montrant la pression en fonction de temps</li>
            <li>Tracer un graphique montrant la UV en fonction de temps</li>
            <li>Tracer un seul graphique montrant les valeurs UV, luminosité, humidité, pression et température contre en fonction de temps</li>
          </ul>
        </div>
        <h4>Exercice 2 <span style="color:red">&#9733;&#9733;</span></h4>
        <div class="exercise">
          <h5>1. Graphique nuage de points</h5>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json </br>
              import matplotlib.pyplot as plot</br>
              import datetime</br>
              </br>
              data = json.load(open('valeurs.json')) </br>
              dataframe = json_normalize(data["values"]) </br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32", "UV" : "int32", </br>
              &nbsp;&nbsp;"date" : datetime.datetime}) </br>
              plot.figure()</br>
              dataframe.plot(x='lum', y= 'UV', kind="scatter")</br>
              plot.show()</br>
            </code>
          </p>
          <p>Une autre essaie</p>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json </br>
              import matplotlib.pyplot as plot</br>
              import datetime</br>
              </br>
              data = json.load(open('valeurs.json')) </br>
              dataframe = json_normalize(data["values"]) </br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32", "UV" : "int32", </br>
              &nbsp;&nbsp;"date" : datetime.datetime}) </br>
              plot.figure()</br>
              dataframe.plot(x='temp', y= 'humidity', kind="scatter")</br>
              plot.show()</br>
            </code>
          </p>
          <p>Quelles sont vos observations?</p>
          <h5>2. Partitionnement de données</h5>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json </br>
              import matplotlib.pyplot as plot</br>
              import datetime</br>
              from sklearn.cluster import KMeans</br>
              </br>
              data = json.load(open('valeurs.json')) </br>
              dataframe = json_normalize(data["values"]) </br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32", "UV" : "int32", </br>
              &nbsp;&nbsp;"date" : datetime.datetime}) </br>
              </br>
              clusters = KMeans(n_clusters = 2)</br>
              clusters.fit(dataframe.loc[:, ["temp","humidity"]])</br>
              dataframe.plot(x='temp', y= 'humidity', kind="scatter")</br>
              centroids = clusters.cluster_centers_</br>
              plot.scatter(centroids[:, 0], centroids[:, 1], marker='x', color='r')</br>
              plot.show()</br>
            </code>
          </p>
          <p>Précisez chaque partition en utilisant différentes couleurs.</p>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json </br>
              import matplotlib.pyplot as plot</br>
              import datetime</br>
              from sklearn.cluster import KMeans</br>
              </br>
              data = json.load(open('valeurs.json')) </br>
              dataframe = json_normalize(data["values"]) </br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32", "UV" : "int32", </br>
              &nbsp;&nbsp;"date" : datetime.datetime}) </br>
              </br>
              clusters = KMeans(n_clusters = 2)</br>
              clusters.fit(dataframe.loc[:, ["temp","humidity"]])</br>
              centroids = clusters.cluster_centers_</br>
              color_list = ['b', 'g', 'y']</br>
              colors = [color_list[i] for i in clusters.labels_]</br>
              </br>
              plot.scatter(dataframe["temp"], dataframe["humidity"], c=colors)</br>
              plot.scatter(centroids[:, 0], centroids[:, 1], marker='x', c='r')</br>
              plot.show()</br>
            </code>
          </p>
          <p class="codeexample">
            <code>
              from pandas.io.json import json_normalize</br>
              import pandas as pd</br>
              import json </br>
              import matplotlib.pyplot as plot</br>
              import datetime</br>
              from sklearn.cluster import KMeans</br>
              </br>
              data = json.load(open('valeurs.json')) </br>
              dataframe = json_normalize(data["values"]) </br>
              dataframe = dataframe.astype(dtype= {"humidity" : "float32", "lum" : "int32", </br>
              &nbsp;&nbsp;"pression" : "int32", "temp" : "float32", "UV" : "int32", </br>
              &nbsp;&nbsp;"date" : datetime.datetime}) </br>
              </br>
              clusters = KMeans(n_clusters = 2)</br>
              clusters.fit(dataframe.loc[:, ["temp","humidity"]])</br>
              centroids = clusters.cluster_centers_</br>
              color_list = ['b', 'g', 'y']</br>
              colors = [color_list[i] for i in clusters.labels_]</br>
              </br>
              plot.scatter(dataframe["temp"], dataframe["humidity"], c=colors)</br>
              plot.scatter(centroids[:, 0], centroids[:, 1], marker='x', c='r')</br>
              plot.show()</br>
            </code>
          </p>
          <p><b>Question 2</b>: Modifiez le code au-dessus afin d'avoir 3 partitions. Et puis 4 partitions.</p>
        </div>
        <h4>Exercice 3 <span style="color:red">&#9733;&#9733;</span></h4>
        <div class="exercise">
          <h5>1. Trouver des couleurs dominantes dans une image</h5>
          <p>Copiez le fichier <a href="../../../../../en/teaching/courses/2017/DataMining/images/flower.jpg">flower.jpg</a> dans votre repertoire afin de trouver des couleurs dominantes.</p>
          <p class="codeexample">
            <code>
             from PIL import Image<br/>
             import numpy<br/>
             import math<br/>
             import matplotlib.pyplot as plot<br/>
             from sklearn.cluster import KMeans<br/>
             <br/>
             imgfile = Image.open("flower.jpg")<br/>
             numarray = numpy.array(imgfile.getdata(), numpy.uint8)<br/>
             <br/>
             X = []<br/>
             Y = []<br/>
             <br/>
             fig, axes = plot.subplots(nrows=5, ncols=2, figsize=(20,25))<br/>
             <br/>
             xaxis = 0<br/>
             yaxis = 0<br/>
             for x in range(2, 12):<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;cluster_count = x <br/>
             &nbsp;&nbsp;&nbsp;&nbsp;<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;clusters = KMeans(n_clusters = cluster_count)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;clusters.fit(numarray)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;npbins = numpy.arange(0, cluster_count + 1)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;histogram = numpy.histogram(clusters.labels_, bins=npbins)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;labels = numpy.unique(clusters.labels_)<br/>
             <br/>
             &nbsp;&nbsp;&nbsp;&nbsp;barlist = axes[xaxis, yaxis].bar(labels, histogram[0])<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;if(yaxis == 0):<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  yaxis = 1<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;else:<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  xaxis = xaxis + 1<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  yaxis = 0<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;for i in range(cluster_count):<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  barlist[i].set_color('#%02x%02x%02x' % (math.ceil(clusters.cluster_centers_[i][0]),<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      math.ceil(clusters.cluster_centers_[i][1]), math.ceil(clusters.cluster_centers_[i][2])))<br/>
             <br/>
             <br/>
             plot.show()<br/>
            </code>
          </p>
          <h5>2. Amélioration de performance.</h5>
          <p class="codeexample">
            <code>
             from PIL import Image<br/>
             import numpy<br/>
             import math<br/>
             import matplotlib.pyplot as plot<br/>
             from sklearn.cluster import MiniBatchKMeans<br/>
             <br/>
             imgfile = Image.open("flower.jpg")<br/>
             numarray = numpy.array(imgfile.getdata(), numpy.uint8)<br/>
             <br/>
             X = []<br/>
             Y = []<br/>
             <br/>
             fig, axes = plot.subplots(nrows=5, ncols=2, figsize=(20,25))<br/>
             <br/>
             xaxis = 0<br/>
             yaxis = 0<br/>
             for x in range(2, 12):<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;cluster_count = x <br/>
             &nbsp;&nbsp;&nbsp;&nbsp;<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;clusters = MiniBatchKMeans(n_clusters = cluster_count)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;clusters.fit(numarray)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;npbins = numpy.arange(0, cluster_count + 1)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;histogram = numpy.histogram(clusters.labels_, bins=npbins)<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;labels = numpy.unique(clusters.labels_)<br/>
             <br/>
             &nbsp;&nbsp;&nbsp;&nbsp;barlist = axes[xaxis, yaxis].bar(labels, histogram[0])<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;if(yaxis == 0):<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  yaxis = 1<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;else:<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  xaxis = xaxis + 1<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  yaxis = 0<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;for i in range(cluster_count):<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  barlist[i].set_color('#%02x%02x%02x' % (math.ceil(clusters.cluster_centers_[i][0]),<br/>
             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      math.ceil(clusters.cluster_centers_[i][1]), math.ceil(clusters.cluster_centers_[i][2])))<br/>
             <br/>
             <br/>
             plot.show()<br/>
            </code>
          </p>
          <p><b>Question 3</b>: Modifiez le code au-dessus afin de trouver 15 couleurs dominantes en utilisant KMeans et MiniBatchKMeans. Comparez la performance.
          </p>
        </div>
        <h4>Exercice 4 <span style="color:red">&#9733;&#9733;&#9733;</span></h4>
        <div class="exercise">
          <h5>1. Prévision de population</h5>
          <p>Copier ce fichier <a href="population.csv">population.csv</a> dans votre repertoire afin de faire l'analyse.</p>
          <p class="codeexample">
            <code>
              import numpy as np</br>
              import matplotlib.pyplot as plot</br>
              import pandas as pd</br>
              from sklearn.linear_model import LinearRegression</br>
              from sklearn.preprocessing import PolynomialFeatures</br>
              dataset = np.loadtxt("population.csv", dtype={'names': ('year', 'population'), 'formats': ('i4', 'i')},</br>
                  skiprows=1, delimiter=",", encoding="UTF-8")</br>
              </br>
              dataframe = pd.DataFrame(dataset)</br>
              plot.scatter(x=dataframe['year'], y=dataframe['population'])</br>
            </code>
          </p>
          <p>On va utiliser LinearRegression.</p>
          <p class="codeexample">
            <code>
              import numpy as np</br>
              import matplotlib.pyplot as plot</br>
              import pandas as pd</br>
              from sklearn.linear_model import LinearRegression</br>
              from sklearn.preprocessing import PolynomialFeatures</br>
              dataset = np.loadtxt("population.csv", dtype={'names': ('year', 'population'), 'formats': ('i4', 'i')},</br>
                  skiprows=1, delimiter=",", encoding="UTF-8")</br>
              </br>
              dataframe = pd.DataFrame(dataset)</br>
              #training data</br>
              </br>
              x_train = df['year'][:40].values.reshape(-1, 1)</br>
              y_train = df['population'][:40].values.reshape(-1, 1)</br>
              </br>
              pf = PolynomialFeatures(degree=1)</br>
              x_poly = pf.fit_transform(x_train)</br>
              </br>
              #training</br>
              lr = LinearRegression()</br>
              lr.fit(x_poly, y_train)</br>
              </br>
              #printing coefficients</br>
              print(lr.intercept_, lr.coef_)</br>
              </br>
              #prediction</br>
              x_predict = x_train = df['year'][41:].values.reshape(-1, 1)</br>
              y_actual = df['population'][41:].values.reshape(-1, 1)</br>
              y_predict = lr.predict(pf.fit_transform(x_predict))</br>
              </br>
              plot.scatter(x_predict, y_actual)</br>
              plot.plot(x_predict, y_predict, color='red', linewidth=2)</br>
              plot.show()</br>
            </code>
            <p>Modifiez le code au-dessus en utilisant des PolynomialFeatures de différents degrés (2, 3, 4). Tracez les différents graphiques.</p>
          </p>
        </div>
        <h4>Exercice 5 <span style="color:red">&#9733;&#9733;&#9733;</span></h4>
        <div class="exercise">
          <h5>1. Reconnaissance de l'écriture manuscrite</h5>
          <p class="codeexample">
            <code>
              from sklearn import datasets, metrics</br>
              from sklearn.linear_model import Perceptron</br>
              import numpy as np</br>
              import matplotlib.pyplot as plot</br>
              </br>
              digits = datasets.load_digits()</br>
              plot.imshow(digits.images[0], cmap=plot.cm.gray_r)</br>
              plot.show()</br>
            </code>
          </p>
          <p class="codeexample">
            <code>
              from sklearn import datasets, metrics</br>
              from sklearn.linear_model import Perceptron</br>
              import numpy as np</br>
              import matplotlib.pyplot as plot</br>
              </br>
              digits = datasets.load_digits()</br>
              print(digits.target[0])</br>
            </code>
          </p>
          <p>Affichage d'images:</p>
          <p class="codeexample">
            <code>
              from sklearn import datasets, metrics</br>
              from sklearn.linear_model import Perceptron</br>
              import numpy as np</br>
              import matplotlib.pyplot as plot</br>
              </br>
              digits = datasets.load_digits()</br>
              for i in range(10):</br>
              &nbsp;&nbsp;plot.imshow(digits.images[i], cmap=plot.cm.gray_r)</br>
              &nbsp;&nbsp;plot.show()</br>
            </code>
          </p>
          <p>Apprentissage en utilisant Perceptron</p>
          <p class="codeexample">
            <code>
              from sklearn import datasets, metrics</br>
              from sklearn.linear_model import Perceptron</br>
              import numpy as np</br>
              import matplotlib.pyplot as plot</br>
              </br>
              digits = datasets.load_digits()</br>
              </br>
              training_images = digits.images[:int(digits.images.shape[0]/2)]</br>
              training_images = training_images.reshape((training_images.shape[0], -1))</br>
              </br>
              training_target = digits.target[0:int(digits.target.shape[0]/2)]</br>
              </br>
              classifier = Perceptron(max_iter=1000)</br>
              #training</br>
              classifier.fit(training_images, training_target)</br>
              </br>
              #prediction</br>
              predict_images = digits.images[int(digits.images.shape[0]/2)+1:]</br>
              actual_labels = digits.target[int(digits.target.shape[0]/2)+1:]</br>
              predicted_labels = classifier.predict(predict_images.reshape((predict_images.shape[0], -1)))</br>
              #prediction</br>
              predict_image = digits.images[int(digits.images.shape[0]/2)+2]</br>
              print("Predicted value: ", classifier.predict(predict_image.reshape(1,-1)))</br>
              </br>
              plot.imshow(predict_image, cmap=plot.cm.gray_r)</br>
              plot.show()</br>
            </code>
          </p>
          <p class="codeexample">
            <code>
             from sklearn import datasets, metrics<br/>
             from sklearn.linear_model import Perceptron<br/>
             import numpy as np<br/>
             import matplotlib.pyplot as plot<br/>
             <br/>
             digits = datasets.load_digits()<br/>
             <br/>
             training_images = digits.images[:int(digits.images.shape[0]/2)]<br/>
             training_images = training_images.reshape((training_images.shape[0], -1))<br/>
             <br/>
             training_target = digits.target[0:int(digits.target.shape[0]/2)]<br/>
             <br/>
             classifier = Perceptron(max_iter=1000)<br/>
             #training<br/>
             classifier.fit(training_images, training_target)<br/>
             <br/>
             #prediction<br/>
             predict_images = digits.images[int(digits.images.shape[0]/2)+1:]<br/>
             actual_labels = digits.target[int(digits.target.shape[0]/2)+1:]<br/>
             predicted_labels = classifier.predict(predict_images.reshape((predict_images.shape[0], -1)))<br/>
             <br/>
             #classification report<br/>
             print(metrics.classification_report(actual_labels,predicted_labels))<br/>
           </code>
          </p>
          <p><b>Question 4</b>: En continuant avec le fichier <a href="population.csv">population.csv</a>, codez en Python en utilisant Perceptron afin d'avoir les résultats suivants:
          </p>
          <ul>
            <li>Prevoir la population entre 2020 et 2050. Quelles sont vos observations? Quelle est votre solution?</p>
          </ul>
        </div>
      </div>
  </body>
</html>
