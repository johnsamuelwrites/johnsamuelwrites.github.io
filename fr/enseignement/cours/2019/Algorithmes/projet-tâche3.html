<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Language" content="en"/>
    <link rel="shortcut icon" href="../../images/logo/favicon.png"/>
    <title>Algorithmes et C appliqués aux Systèmes Numériques (2019-2020): John Samuel</title>
    <style type="text/css">
    body{
      background-color: #FFFFFF;
    }
    #sidebar {
      position: fixed;
      background-color: #1B80CF;
      top: 0;
      left: 0;
      bottom: 0;
      width:25vw;
    }
    .title {
      position:relative;
      text-align: center;
      line-height: 9vh;
      font-size: 1.2vmax;
      font-family: 'Arial';
      margin-top: 20vh;
    }
    .title a:link, 
    .title a:visited{
     color: #FFFFFF;
     text-decoration:none;
    }
    .subtitle {
      top: 50vh;
      text-align: center;
      line-height: 1.0vmax;
      font-family: 'Arial';
      font-size: 1.5vmax;
      color: #FFFFFF;
    }
    .subtitle h2{
      color: #FFFFFF;
    }
    a:link, a:visited {
     color:#00363a;
    }
    .subtitle a:link,
    .subtitle a:visited{
     color: #FFFFFF;
     text-decoration:none;
    }
    .licence {
      position:fixed;
      text-align: right;
      bottom:0;
      right:0;
    }
    .home {
     font-family: 'Arial';
     text-align: left;
    }
    .codeexample {
      background-color:#eeeeee;
    }
    .home ul{
      margin: 0;
      padding: 0;
      text-align: left;
      list-style:none;
    }
    .home li{
     position: relative;
     float: left;
     margin-right: 1em;
    }
    .content {
     line-height: 1.6em;
     font-size: 1.3em;
     font-family: 'Arial';
     margin-top: 8vh;
    }
    .content h3,h2,h4{
     color:#00363a;
    }
    .exercise {
     margin-left:2vw;
    }
    .exercise p{
     margin-left:1vw;
    }
    .exercise ol{
     margin-left:1.1vw;
    }
    .exercise img{
     width:100%;
    }
    .content a:link,
    .content a:visited {
     color:#00363a;
    }
    .home a:link,
    .home a:visited{
     color: #D3D3D3;
    }
    .page {
      width:65vw;
      height:100%;
      margin-left:25vw;
      overflow: auto;
      padding: 0 1em;
    }
    img {
     max-width:100%;
     max-height:100%;
    }
    @media print {
      #sidebar {
        width:100%;
        top:0;
        position:relative;
        padding-bottom:3vh; 
      }
      #sidebar .title {
        margin-top:0;
      }
      .home {
        display:none;
      }
      .page {
        margin-left:5vw;
        width:90%;
      }
    }
    </style>
  </head>
  <body vocab="http://schema.org/">
    <div id="sidebar">
     <div class="title">
      <h1><a href="./index.html">Projet: Algorithmes et C appliqués aux Systèmes Numériques</a></h1>
     </div>
     <div class="subtitle">
      <h3><a href="../../../../apropos.html">John Samuel</a></h3>
     </div>
    </div>
    <div class="licence"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="./../../../../../images/license.png"/></a>
    </div>
    <div class="page">
      <div class="home">
       <ul typeof="BreadcrumbList">
        <li property="itemListElement" typeof="ListItem">
          <a property="item" typeof="WebPage" href="../../../../index.html">
            <span property="name">Accueil</span>
          </a>
        </li>
        <li property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="index.html">
          <span property="name">Algorithmes et C</span>
         </a>
        </li>
        <li property="itemListElement" typeof="ListItem">
         <a property="item" typeof="WebPage" href="../../../index.html">
          <span property="name">Enseignement</span>
         </a>
        </li>
       </ul>
      </div>
      <div class="content">
        <h3>Année: 2019-2020</h3>
        <h3>Projet</h3>
        <h4>Tâche 3.</h4>
        <p>Pour cette tâche, notre objectif est de nous assurer que le transfert des messages entre le client et le serveur respecte le format JSON et le protocole de communication.</p>
        <p>Références:</p>
        <ol>
          <li><a href='http://json.org/json-fr.html'>http://json.org/json-fr.html</a>: Site officiel de JSON</li>
          <li><a href='https://jsonlint.com/'>https://jsonlint.com/</a>: JSONLint- The JSON Validator</a></li>
          <li>
          JSON : <a href="https://fr.wikipedia.org/wiki/JavaScript_Object_Notation">https://fr.wikipedia.org/wiki/JavaScript_Object_Notation</a>
          </li>
        </ol>
        <h4>a. Validation des messages JSON</h4>
        <div class="exercise">
          <p>Sans utiliser les bibliothèques externes, créez un fichier C <i>validateur.c</i>  et ajoutez de nouvelles fonctions pour valider les messages JSON.</p>
          <p>Par exemple, les messages suivantes sont valides. Vous voyez que nous n'utilisons pas de guillemets pour les nombres, mais nous utilisons des guillemets pour les chaînes de caractères.</p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "message",</br>
             &nbsp;&nbsp;"valeurs" : [ "bonjour"]</br>
             }</br>
             {</br>
             &nbsp;&nbsp;"code" : "calcule",</br>
             &nbsp;&nbsp;"valeurs" : [ "+", 23, 45 ]</br>
             }</br>
             {</br>
             &nbsp;&nbsp;"code" : "couleurs",</br>
             &nbsp;&nbsp;"valeurs" : [ 10, "#0effeee", "#0effe23", ...]</br>
             }</br>
            </code>
          </p>
          <p>Mais, la message suivante n'est pas valide parce que les valeurs 'message' et 'bonjour' ne figurent pas entre les guillemets.</p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : message,</br>
             &nbsp;&nbsp;"valeurs" : [ bonjour]</br>
             }</br>
            </code>
          </p>
          <p>Vous pouvez tester la validité des messages JSON à l'aide du site en ligne <a href="https://jsonlint.com">https://jsonlint.com</a></p>
          <p>Modifiez le code client.c et serveur.c et intégrez les nouvelles fonctions de validation pour que le serveur et le client reçoivent uniquement des messages JSON valides.</p>
        </div>
        <h4>b. Validation du protocole de communication</h4>
        <div class="exercise">
          <p>Nous avons seulement autorisé quatre opérations. Notre prochain objectif est de nous assurer que la demande envoyée par le client et la réponse envoyée par le serveur respectent le protocole et que nous n'acceptons aucune autre opération.</p>
          <p>Voir les exemples donnés ci-dessous. Votre prochain objectif consiste à ajouter des fonctions dans le fichier <i>validateur.c</i> permettant de vérifier que chaque opération ne contient que les valeurs autorisées.</p>
          <h4>1. message</h4>
          <p>
            <figure>
              <img src="./images/client-server-message.svg" height="400vh"/>
            </figure>
          </p>
          <p><b>Exemple de requête envoyé par le client</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "message",</br>
             &nbsp;&nbsp;"valeurs" : [ "bonjour"]</br>
             }</br>
            </code>
          </p>
          <p><b>Exemple de réponse envoyé par le serveur</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "message",</br>
             &nbsp;&nbsp;"valeurs" : [ "bonjour"]</br>
             }</br>
            </code>
          </p>
          <h4>2. nom</h4>
          <p>
            <figure>
              <img src="./images/client-server-nom.svg" height="400vh"/>
            </figure>
          </p>
          <p><b>Exemple de requête envoyé par le client</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "nom",</br>
             &nbsp;&nbsp;"valeurs" : [ "neptune"]</br>
             }</br>
            </code>
          </p>
          <p><b>Exemple de réponse envoyé par le serveur</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "nom",</br>
             &nbsp;&nbsp;"valeurs" : [ "neptune"]</br>
             }</br>
            </code>
          </p>
          <p><b>3. calcul</b></p>
          <p>
            <figure>
              <img src="./images/client-server-calcul.svg" height="400vh"/>
            </figure>
          </p>
          <p><b>Exemple de requête envoyé par le client</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "calcule",</br>
             &nbsp;&nbsp;"valeurs" : [ "+", 23, 45 ]</br>
             }</br>
            </code>
          </p>
          <p><b>Exemple de réponse envoyé par le serveur</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "calcule",</br>
             &nbsp;&nbsp;"valeurs" : [ 68 ]</br>
             }</br>
            </code>
          </p>
          <p><b>4. couleurs</b></p>
          <p>
            <figure>
              <img src="./images/client-server-couleurs.svg" height="400vh"/>
            </figure>
          </p>
          <p><b>Exemple de requête envoyé par le client</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "couleurs",</br>
             &nbsp;&nbsp;"valeurs" : [ 10, "#0effeee", "#0effe23", ...]</br>
             }</br>
            </code>
          </p>
          <p><b>Exemple de réponse envoyé par le serveur</b></p>
          <p class="codeexample">
            <code>
             {</br>
             &nbsp;&nbsp;"code" : "couleurs",</br>
             &nbsp;&nbsp;"valeurs" : [ "enregistré"]</br>
             }</br>
            </code>
          </p>
        </div>
      </div>
  </body>
</html>
