<html>
<head>
<meta charset="utf-8"/>
<title>Programmation en C: Les appels systèmes, les erreurs et la chaine de compilation: John Samuel</title>
<style type="text/css">
    body {
      height: 100%;
      width: 100%;
      background-color: #b2ebf2;
      margin: 0;
      overflow: hidden;
      font-family: Arial;
    }
    .slide {
      height: 100%;
      width: 100%;
    }
    .content {
      height: 62%;
      width: 90vw;
      display: flex;
      flex-direction: column;
      color: #424242;
      text-align: left;
      padding: 5vw;
      overflow-x: auto;
      font-size: 3vmin;
      flex-wrap: wrap;
    }
    .content h1, h2 {
      color: #00363a;
    }
    .content table {
      color: #424242;
      font-size: 120%;
      width: 90%;
    }
    .content a:link,
    .content a:visited{
      color: #00363a;
      text-decoration:none;
    }
    .content th {
      color: #424242;
      background-color: #81b9bf;
      font-size: 120%;
      padding: 15px;
    }
    .content figure {
      max-width:90%;
      max-height:90%;
    }
    .content figure img{
      max-width:50vmin;
      max-height:50vmin;
    }
    .content figure figcaption {
        max-width:90%;
        max-height:90%;
    }
    .content td {
      color: #424242;
      font-size: 11w;
      width: 8%;
      padding: 10px;
    }
    .content li {
      line-height: 4vh;
    }
    .header {
      color: #424242;
      background-color: #81b9bf;
      height: 5vw;
    }
    .header h1 {
      text-align: center;
      font-size: 3vw;
      margin: 0;
    }
    .footer {
      height: 3vw;
      background-color: #81b9bf;
      margin: 0;
      padding: .3vw;
      overflow: hidden;
    }
    .footer .contact {
      float: left;
      color: #424242;
      text-align: left;
      font-size: 3.2vmin;
    }
    .footer .navigation {
      float: right;
      text-align: right;
      width: 8vw;
      font-size: 3vmin;
    }
    
    .footer .navigation .next,.prev {
      font-size: 3vmin;
      color: #424242;
      text-decoration: none;
    }
    
    .footer .navigation .next::after {
      content: "| >";
    }
    
    .footer .navigation .prev::after {
      content: "< ";
    }
    @media (max-width: 640px), screen and (orientation: portrait) {
       body {
         max-width:100%;
         max-height:100%;
       }
       .slide {
          height: 100%;
          width: 100%;
       } 
       .content {
          width: 100%;
          height:92%;
          display: flex;
          flex-direction: row;
          text-align: left;
          padding: 1vw;
          line-height: 3.8vmax;
          font-size: 1.8vmax;
          flex-wrap: wrap;
       }
       .content h1, h2, h3, h4 {
          width:100%;
       }
       .content figure img{
          max-width:80vmin;
          max-height:50vmin;
       }
       .content figure figcaption {
           max-width:90%;
           max-height:90%;
       }
    }
    
    @media print {
      body {
        max-width:100%;
        max-height:100%;
      }
      .content {
        height: 76%;
        width: 90vw;
        display: flex;
        flex-direction: column;
        color: #424242;
        text-align: left;
        padding: 5vw;
        font-size: 3vmin;
        flex-wrap: wrap;
      }
      .content figure img{
        max-width:80%;
        max-height:80%;
      }
      .content figcaption {
        max-width:80%;
        max-height:80%;
      }
    }

    </style>
</head>
<body>
	<section class="slide" id="slide1">
		<div class="header">
		</div>
		<div class="content">
			<h1 style="font-size:3.5vmin">Programmation en C</br>
			<span style="line-height:3.5vmax;font-size:3.0vmin">
                           Les appels systèmes, les erreurs et la chaine de compilation<span></h1>
                        <p><b>John Samuel</b></br>
                          CPE Lyon<br/><br/>
                        <b>Année</b>: 2018-2019<br/>
                        <b>Courriel</b>: john(dot)samuel(at)cpe(dot)fr</br></br>
                        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../../../../en/teaching/courses/2017/C/88x31.png" /></a></p>
                <figure>
                             <img src="../../../../../en/teaching/courses/2017/C/images/The_C_Programming_Language_logo.svg" height="350vh" style="background:#ffffff"/>
                </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">1

                                <a class="next" href="#slide2"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide2">
		<div class="header">
			<h1>Programmation en C</h1>
		</div>
		<div class="content">
			<h1>Objectifs</h1>
			<ul>
				<li>Préprocesseur</li>
				<li>Les appels systèmes</li>
				<li>Les erreurs</li>
				<li>La chaine de compilation</li>
			</ul>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">2
				<a class="prev" href="#slide1"></a>
                                <a class="next" href="#slide3"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide3">
		<div class="header">
			<h1>Préprocesseur</h1>
		</div>
		<div class="content">
			<h3>cercle.c</h3>
			<code><span style="color:purple">#define</span> PI 3.14159</br></br>

			<span style="color:green">float</span> <span style="color:blue">area</span>(
			<span style="color:green">float</span> <span style="color:blue">radius</span>) { <br>
			&nbsp;<span style="color:green">return</span>(PI * <span style="color:blue">radius</span>
						* <span style="color:blue">radius</span>);<br>
			}<br>
                        </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">3
				<a class="prev" href="#slide2"></a>
                                <a class="next" href="#slide4"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide4">
		<div class="header">
			<h1>Préprocesseur</h1>
		</div>
		<div class="content">
			<h3>Prototype (defs.h)</h3>
                        <code>
			<span style="color:purple">#define</span> PI 3.14159<br>
                        </code>
			<h3>cercle.c</h3>
			<code>
				<span style="color:purple">#include</span> <span style="color:red">"defs.h"</span><br>
				<span style="color:purple">#ifndef</span> PI // Si PI n'est pas défini<br>
				<span style="color:purple">#define</span> PI 3.14159<br>
				<span style="color:purple">#endif</span><br><br>

				<span style="color:green">float</span> <span style="color:blue">area</span>(
					<span style="color:green">float</span> <span style="color:blue">radius</span>) { <br>
					&nbsp;<span style="color:green">return</span>(PI * <span style="color:blue">radius</span>
						* <span style="color:blue">radius</span>);<br>
					}<br>
		 	</code>
			<p>
				<span style="color:red">Remarque 1:</span> PI n'est pas une variable</br>
				<span style="color:red">Remarque 2:</span> Utilisez l'option <span style="color:blue"> gcc -E </span> pour comprendre l'objectif d'un préprocesseur
			</p>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">4
				<a class="prev" href="#slide3"></a>
                                <a class="next" href="#slide5"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide5">
		<div class="header">
			<h1>Préprocesseur</h1>
		</div>
		<div class="content">
                        <p>
			<span style="color:red">Erreur:</span> PI n'est pas une variable
                        </p>
			<code>
				<span style="color:purple">#include</span> <span style="color:red">"defs.h"</span><br>
				<span style="color:purple">#ifndef</span> PI <br>
				<span style="color:purple">#define</span> PI 3.14159<br>
				<span style="color:purple">#endif</span><br><br>

				<span style="color:green">float</span> <span style="color:blue">area</span>(
					<span style="color:green">float</span> <span style="color:blue">radius</span>) { <br>
                                        &nbsp;PI = 3.14;</br>
					&nbsp;<span style="color:green">return</span>(PI * <span style="color:blue">radius</span>
						* <span style="color:blue">radius</span>);<br>
					}<br>
		 	</code>
                        <h3>Erreur (compilation)</h3>
		 	<code>
                        Error: lvalue required as left operand of assignment</br>
                        PI = 3.15;</br>
                        &nbsp;&nbsp;&nbsp;^

		 	</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">5
				<a class="prev" href="#slide4"></a>
                                <a class="next" href="#slide6"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide6">
		<div class="header">
			<h1>Préprocesseur</h1>
		</div>
		<div class="content">
                        <h3>operators.h</h3>
			<code>
				<span style="color:purple">#ifndef</span> __OPERATORS_H__ <br/>
				<span style="color:purple">#define</span> __OPERATORS_H__ <br/> </br>
                                <span style="color: green">int</span>
                                add(
                                <span style="color: green">int</span>,
                                <span style="color: green">int</span>); <br/></br>
				<span style="color:purple">#endif</span> //__OPERATORS_H__
		 	</code>
			<h1>L'utilisation</h1>
                        <code>
		        <span style="color: purple">#include</span>
                        <span style="color: red">"operators.h"</span> // en-têtes(headers) <br></br>
		        <span style="color: purple">#include</span>
                        <span style="color: red">"operators.h"</span> // 2eme fois, mais pas d'erreurs <br></br>
		 	</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">6
				<a class="prev" href="#slide5"></a>
                                <a class="next" href="#slide7"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide7">
		<div class="header">
			<h1>Préprocesseur</h1>
		</div>
		<div class="content">
			<code>
				<span style="color:purple">#ifndef</span> PI <br>
				<span style="color:purple">#define</span> PI 3.14159<br>
				<span style="color:purple">#endif</span><br><br>
				<span style="color:purple">#ifndef</span> square <br>
				<span style="color:purple">#define</span> square(value) value * value<br>
				<span style="color:purple">#endif</span><br><br>

				<span style="color:green">float</span> <span style="color:blue">area</span>(
					<span style="color:green">float</span> <span style="color:blue">radius</span>) { <br>
					&nbsp;<span style="color:green">return</span>(PI * square(<span style="color:blue">radius)</span>);<br>
					}<br>
		 	</code>
			<p>
				<span style="color:red">Remarque:</span> Il'n y a pas d'espace entre square et (
			</p>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">7
				<a class="prev" href="#slide6"></a>
                                <a class="next" href="#slide8"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide8">
		<div class="header">
			<h1>Alignement en mémoire</h1>
		</div>
		<div class="content">
			<code>
                          <span style="color: green">struct</span> couleur1{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                        };</br>
			</code>
			<code>
                          <span style="color: green">struct</span> couleur2{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
                        };
			</code>
			<code>
                          &nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"size- couleur1: %lu, couleur2: %lu\n"</span>, </br>
                          &nbsp;&nbsp;<span style="color: green">sizeof</span>(
                          <span style="color: green">struct</span>
                          <span style="color: blue">couleur1</span>),
                          <span style="color: green">sizeof</span>(
                          <span style="color: green">struct</span>
                          <span style="color: blue">couleur2</span>));

			</code>
                   <p>
		     <span style="color:red">Question:</span> Quel est l'affichage de ce programme?
                   </p>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">8
				<a class="prev" href="#slide7"></a>
                                <a class="next" href="#slide9"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide9">
		<div class="header">
			<h1>Alignement en mémoire</h1>
		</div>
		<div class="content">
                        <h4>Alignement d'un octet</h4>
                        <figure>
                           <img src="../../../../../en/teaching/courses/2017/C/images/noalignment.svg" height="300vh"/>
                        <figcaption>couleur1</figcaption>
                        </figure>
                        <figure>
                           <img src="../../../../../en/teaching/courses/2017/C/images/noalignment2.svg" height="300vh"/>
                        <figcaption>couleur2</figcaption>
                        </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">9
				<a class="prev" href="#slide8"></a>
                                <a class="next" href="#slide10"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide10">
		<div class="header">
			<h1>Alignement en mémoire</h1>
		</div>
		<div class="content">
                        <h4>Alignement de 4 octets</h4>
                        <figure>
                           <img src="../../../../../en/teaching/courses/2017/C/images/alignment.svg" height="300vh"/>
                        <figcaption>couleur1</figcaption>
                        </figure>
                        <figure>
                           <img src="../../../../../en/teaching/courses/2017/C/images/alignment2.svg" height="300vh"/>
                        <figcaption>couleur2</figcaption>
                        </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">10
				<a class="prev" href="#slide9"></a>
                                <a class="next" href="#slide11"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide11">
		<div class="header">
			<h1>Alignement en mémoire</h1>
		</div>
		<div class="content">
                        <h3>En utilisant gcc</h3>
			<code>
                          <span style="color: purple">#pragma pack(push)</span></br>
                          <span style="color: purple">#pragma pack(1)</span> //alignement d'un octet</br>
                          <span style="color: green">struct</span> couleur3{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                        };</br>
                        <span style="color: purple">#pragma pack(pop)</span></br></br>
                          &nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"%lu\n"</span>,
                          <span style="color: green">sizeof</span>(<span style="color: green">struct</span> <span style="color: blue">couleur3</span>));

			</code>
                   <p>
		     <span style="color:red">Remarque:</span> L'affichage de ce programme: 7
		   </p>
			<figure>
                           <img src="../../../../../en/teaching/courses/2017/C/images/noalignment.svg" height="400vh"/>
                   </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">11
				<a class="prev" href="#slide10"></a>
                                <a class="next" href="#slide12"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide12">
		<div class="header">
			<h1>Alignement en mémoire</h1>
		</div>
		<div class="content">
			<code>
                          <span style="color: green">struct</span> couleur4{ //alignement de 4 octets</br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
                          &nbsp;<span style="color: green">unsigned char</span> _pad;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                        };</br>
                          <span style="color: green">struct</span> couleur5{ //alignement de 4 octets</br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> _pad1[3];</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
                          &nbsp;<span style="color: green">unsigned char</span> _pad2[2];</br>
                        };

			</code>
                   <p>
		     <span style="color:red">Remarque:</span> Utilisez l'option <span style="color:blue"> gcc -Wpadded </span> pour savoir si une structure nécessite du padding our être alignée
			</p>
                   </p>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">12
				<a class="prev" href="#slide11"></a>
                                <a class="next" href="#slide13"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide13">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<code>
                          <span style="color: green">struct</span> couleur{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                        };</br>
                          <span style="color: green">int</span> <span style="color: blue">main</span>() {</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">c1</span>;</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">*scptr</span> = <span style="color: blue">&c1</span>;</br>
                          &nbsp;<span style="color: blue">c1.bleu</span> = <span style="color: red">0xff</span>;</br>
                          &nbsp;<span style="color: blue">scptr->bleu</span> = <span style="color: red">0x01</span>;</br>
                          &nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"c1.bleu: %hhx\n"</span>, <span style="color: blue">c1.bleu</span>); //0x01</br>
                        }
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">13
				<a class="prev" href="#slide12"></a>
                                <a class="next" href="#slide14"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide14">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<code>
                          <span style="color: green">struct</span> couleur{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                        };</br>
                          <span style="color: green">void</span> <span style="color: blue">change</span>(
                          <span style="color: green">struct</span> couleur *c) {</br>
                          &nbsp;<span style="color: blue">c->bleu</span> = <span style="color: red">0x01</span>;</br>
                        }</br>
                          <span style="color: green">int</span> <span style="color: blue">main</span>() {</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">c1</span>;</br>
                          &nbsp;<span style="color: blue">c1.bleu</span> = <span style="color: red">0xff</span>;</br>
                          &nbsp;change(<span style="color: blue">&c1</span>);</br>
                          &nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"c1.bleu: %hhx\n"</span>, <span style="color: blue">c1.bleu</span>); //0x01</br>
                        }
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">14
				<a class="prev" href="#slide13"></a>
                                <a class="next" href="#slide15"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide15">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<code>
                          <span style="color: green">struct</span> couleur{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
                        };</br>
                          <span style="color: green">void</span> <span style="color: blue">nochange</span>(
                          <span style="color: green">struct</span> couleur c) {</br>
                          &nbsp;<span style="color: blue">c.bleu</span> = <span style="color: red">0x03</span>;</br>
                        }</br>
                          <span style="color: green">int</span> <span style="color: blue">main</span>() {</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">c1</span>;</br>
                          &nbsp;<span style="color: blue">c1.bleu</span> = <span style="color: red">0xff</span>;</br>
                          &nbsp;nochange(<span style="color: blue">c1</span>);</br>
                          &nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"c1.bleu: %hhx\n"</span>, <span style="color: blue">c1.bleu</span>); //0xff</br>
                        }
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">15
				<a class="prev" href="#slide14"></a>
                                <a class="next" href="#slide16"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide16">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<h3>Une liste de couleurs</h3>
			<code>
                          <span style="color: green">struct</span> couleur{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
			  &nbsp;<span style="color: green">struct</span> couleur *next;</br>
                        };</br>
			</code>
                        <figure>
                          <img src="../../../../../en/teaching/courses/2017/C/images/singlylinkedlist.svg" height="400vh"/>
                        </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">16
				<a class="prev" href="#slide15"></a>
                                <a class="next" href="#slide17"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide17">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<h3>Une liste de couleurs</h3>
			<code>
                          <span style="color: green">int</span> <span style="color: blue">main</span>() {</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">first</span>, <span style="color: blue">c1</span>, <span style="color: blue">c2</span>;</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">*cptr</span>;</br>
                          &nbsp;<span style="color: blue">first.next</span> = <span style="color: blue">&c1</span>;</br>
                          &nbsp;<span style="color: blue">c1.next</span> = <span style="color: blue">&c2</span>;</br>
                          &nbsp;<span style="color: blue">c2.next</span> = <span style="color: red">NULL</span>;</br>
                          &nbsp;<span style="color: blue">cptr</span> = <span style="color: blue">&first</span>;</br></br>
                          &nbsp;<span style="color: green">while</span>(<span style="color: blue">cptr</span> != <span style="color: red">NULL</span>) { //navigation</br>
                          &nbsp;&nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"cptr->bleu: %hhx\n"</span>, <span style="color: blue">cptr->bleu</span>);</br>
                          &nbsp;&nbsp;<span style="color: blue">cptr</span> = <span style="color: blue">cptr->next</span>; //couleur suivante</br>
                          &nbsp;}</br>

                        }
			</code>
                        <figure>
                          <img src="../../../../../en/teaching/courses/2017/C/images/singlylinkedlist.svg" height="400vh"/>
                        </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">17
				<a class="prev" href="#slide16"></a>
                                <a class="next" href="#slide18"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide18">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<h3>Une liste de couleurs</h3>
			<code>
                          <span style="color: green">struct</span> couleur{ </br>
                          &nbsp;<span style="color: green">unsigned char</span> rouge;</br>
                          &nbsp;<span style="color: green">unsigned char</span> vert;</br>
                          &nbsp;<span style="color: green">unsigned char</span> bleu;</br>
			  &nbsp;<span style="color: green">unsigned int </span> count;</br>
			  &nbsp;<span style="color: green">struct</span> couleur *next;</br>
			  &nbsp;<span style="color: green">struct</span> couleur *prev;</br>
                        };</br>
			</code>
                        <figure>
                          <img src="../../../../../en/teaching/courses/2017/C/images/doublylinkedlist.svg" height="400vh"/>
                        </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">18
				<a class="prev" href="#slide17"></a>
                                <a class="next" href="#slide19"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide19">
		<div class="header">
			<h1>Les structures et les pointeurs</h1>
		</div>
		<div class="content">
			<code>
                          <span style="color: green">int</span> <span style="color: blue">main</span>() {</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">first</span>, <span style="color: blue">c1</span>, <span style="color: blue">c2</span>, <span style="color: blue">last</span>;</br>
                          &nbsp;<span style="color: green">struct</span> couleur <span style="color: blue">*cptr</span> = <span style="color: blue">&last</span>;</br></br>
                          &nbsp;<span style="color: blue">first.next</span> = <span style="color: blue">&c1</span>;</br>
                          &nbsp;<span style="color: blue">first.prev</span> = <span style="color: red">NULL</span>;</br>
                          &nbsp;<span style="color: blue">last.next</span> = <span style="color: red">NULL</span>;</br>
                          &nbsp;<span style="color: blue">last.prev</span> = <span style="color: blue">&c2</span>;</br>
                          &nbsp;<span style="color: blue">c1.next</span> = <span style="color: blue">&c2</span>;</br>
                          &nbsp;<span style="color: blue">c1.prev</span> = <span style="color: blue">&first</span>;</br>
                          &nbsp;<span style="color: blue">c2.next</span> = <span style="color: blue">&last</span>;</br>
                          &nbsp;<span style="color: blue">c2.prev</span> = <span style="color: blue">&c1</span>;</br></br>
                          &nbsp;<span style="color: green">while</span>(<span style="color: blue">cptr</span> != <span style="color: blue">&first</span>) { //navigation</br>
                          &nbsp;&nbsp;<span style="color: blue">printf</span>(
                          <span style="color: red">"cptr->bleu: %hhx\n"</span>, <span style="color: blue">cptr->bleu</span>);</br>
                          &nbsp;&nbsp;<span style="color: blue">cptr</span> = <span style="color: blue">cptr->prev</span>; //couleur précédente</br>
                          &nbsp;}</br>
                        }
			</code>
                        <figure>
                          <img src="../../../../../en/teaching/courses/2017/C/images/doublylinkedlist.svg" height="400vh"/>
                        </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">19
				<a class="prev" href="#slide18"></a>
                                <a class="next" href="#slide20"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide20">
		<div class="header">
			<h1>Les fonctions et les pointeurs</h1>
		</div>
		<div class="content">
                        <code>
                        <span style="color: green">int</span>
                        add(
                        <span style="color: green">int</span>
                        <span style="color: blue">a</span>,
                        <span style="color: green">int</span>
                        <span style="color: blue">b</span>
                        ) { </br>
                        &nbsp;<span style="color: green">return</span>
                        <span style="color: blue">a</span>
                        + <span style="color: blue">b</span>;</br>
                        }</br></br>
                        <span style="color: green">int</span>
                        subtract(
                        <span style="color: green">int</span>
                        <span style="color: blue">a</span>,
                        <span style="color: green">int</span>
                        <span style="color: blue">b</span>
                        ) { </br>
                        &nbsp;<span style="color: green">return</span>
                        <span style="color: blue">a</span>
                        - <span style="color: blue">b</span>;</br>
                        }
                        </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">20
				<a class="prev" href="#slide19"></a>
                                <a class="next" href="#slide21"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide21">
		<div class="header">
			<h1>Les fonctions et les pointeurs</h1>
		</div>
		<div class="content">
                        <code>
                          <span style="color: green">int</span> <span style="color: blue">main</span>() {</br>
                          &nbsp;<span style="color: green">int</span> (<span style="color: blue">*func</span>)(<span style="color: green">int</span>, <span style="color: green">int</span>); //pointeur de function</br>

                          &nbsp;<span style="color: green">char</span> <span style="color: blue">op</span> = <span style="color: red">'-'</span>;</br>
                          &nbsp;<span style="color: green">int</span> <span style="color: blue">num1</span> = <span style="color: red">20</span>, <span style="color: blue">num2</span> = <span style="color: red">30</span>;</br></br>

                          &nbsp;<span style="color: green">if</span> (<span style="color: blue">op</span> == <span style="color: red">'+'</span>) {</br>
                          &nbsp;&nbsp;<span style="color: blue">func</span> = <span style="color: blue">add</span>;</br>
  &nbsp;}</br>
                          &nbsp;<span style="color: green">else</span> {</br>
                          &nbsp;&nbsp;<span style="color: blue">func</span> = <span style="color: blue">subtract</span>;</br>
                          &nbsp;}</br>

                          &nbsp;<span style="color: blue">printf</span>(<span style="color: red">"value: %d\n"</span>,<span style="color: blue">func</span>(20, 30));</br>

                          }
                        </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">21
				<a class="prev" href="#slide20"></a>
                                <a class="next" href="#slide22"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide22">
		<div class="header">
			<h1>stats</h1>
		</div>
		<div class="content">
			<code>
				/* Fichier: stats.c <br> * la taille d'une fichier
				<br> * auteur: John Samuel <br>  */ <br> <br> <span
					style="color: purple">#include</span>
                                        <span style="color: red">&lt;stdio.h&gt; </span>// en-têtes(headers) <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;sys/types.h&gt; </span> <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;sys/stat.h&gt; </span> <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;unistd.h&gt; </span> <br>
				</br> <span
					style="color: green">int</span> <span style="color: blue">main</span>(<span style="color:green">int</span> <span style="color:blue">argc</span>, <span style="color:green">char **</span> argv)
				{ </br>
                                     &nbsp;<span style="color: green">struct stat</span>  <span style="color: blue">sf</span>;</br>
                                     &nbsp;<span style="color: blue">stat</span> (<span style="color: red">"./stats.c"</span>, &sf);</br>
                                     &nbsp;<span style="color: blue">printf</span>(<span style="color: red">"Taille: %ld octets"</span>, <span style="color: blue">sf.st_size</span>);</br>

                                     &nbsp;<span style="color:green">return</span> 0;<br> }
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">22
				<a class="prev" href="#slide21"></a>
                                <a class="next" href="#slide23"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide23">
		<div class="header">
			<h1>Les erreurs: stats</h1>
		</div>
		<div class="content">
			<code>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;stdio.h&gt; </span>// en-têtes(headers) <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;sys/types.h&gt; </span> <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;sys/stat.h&gt; </span> <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;unistd.h&gt; </span> <br>
					<span style="color: purple">#include</span>
                                        <span style="color: red">&lt;stdlib.h&gt; </span> <br>
				</br> <span
					style="color: green">int</span> <span style="color: blue">main</span>(<span style="color:green">int</span> <span style="color:blue">argc</span>, <span style="color:green">char **</span> argv)
				{ </br>
                                     &nbsp;<span style="color: green">struct stat</span>  <span style="color: blue">sf</span>;</br>
                                     &nbsp;<span style="color: green">int</span>  <span style="color: blue">status</span>;</br></br>
                                     &nbsp;<span style="color: blue">status</span> = <span style="color: blue">stat</span> (<span style="color: blue">argv[1]</span>, &sf);</br>
                                     &nbsp;<span style="color: green">if</span> (<span style="color: blue">status</span> == -1) {</br>
                                     &nbsp;&nbsp;<span style="color: blue">perror</span>(<span style="color: red">"Stats"</span>);</br>
                                     &nbsp;&nbsp;<span style="color: green">return</span>(EXIT_FAILURE);</br>
                                     &nbsp;}</br>

                                     &nbsp;<span style="color: blue">printf</span>(<span style="color: red">"Taille: %ld octets"</span>, <span style="color: blue">sf.st_size</span>);</br>

                                     &nbsp;<span style="color:green">return</span> 0;<br> }
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">23
				<a class="prev" href="#slide22"></a>
                                <a class="next" href="#slide24"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide24">
		<div class="header">
			<h1>Les erreurs: stats</h1>
		</div>
		<div class="content">
			<h3>La compilation </h3>
			<code>
				$ gcc <span style="color: red">-o stats</span> stats.c
			</code>
			<h3>L'exécution</h3>
			<code>
				$./stats stats.c</br>
                                Taille: ... octets</br>
				$ echo $? </br>
                                0
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">24
				<a class="prev" href="#slide23"></a>
                                <a class="next" href="#slide25"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide25">
		<div class="header">
			<h1>Les erreurs: stats</h1>
		</div>
		<div class="content">
			<h3>La compilation </h3>
			<code>
				$ gcc <span style="color: red">-o stats</span> stats.c
			</code>
			<h3>L'exécution</h3>
			<code>
                        $ ./stats nostats </br>
                        Stats: No such file or directory</br>
                        $ echo $?</br>
                        1</br>
			</code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">25
				<a class="prev" href="#slide24"></a>
                                <a class="next" href="#slide26"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide26">
		<div class="header">
			<h1>Répertoire (dossier)</h1>
		</div>
		<div class="content">
                <code>
                    <span style="color: purple">#include</span> &lt;sys/types.h&gt;</br>
                    <span style="color: purple">#include</span> &lt;dirent.h&gt;</br>
                    <span style="color: purple">#include</span> &lt;unistd.h&gt;</br>
                    <span style="color: purple">#include</span> &lt;stdlib.h&gt;</br>
                    <span style="color: purple">#include</span> &lt;stdio.h&gt;</br>
                    </br>
                    <span style="color: green">int</span> <span style="color: blue">main</span>(<span style="color: green">int</span> <span style="color: blue">argc</span>, <span style="color: green">char</span> **<span style="color: blue">argv</span>) {</br>
                      &nbsp;<span style="color: green">if</span> (<span style="color: blue">argc</span> < 2) {</br>
                      &nbsp;&nbsp;<span style="color: blue">printf</span>(<span style="color: red">"Usage: readdir path\n"</span>);</br>
                      &nbsp;&nbsp;<span style="color: green">return</span>(EXIT_FAILURE);</br>
                      &nbsp;}</br>
                    </br>
                      &nbsp;<span style="color: green">DIR</span> *<span style="color: blue">dirp</span> = <span style="color: blue">opendir</span>(<span style="color: blue">argv</span>[1]);</br>
                    </br>
                      &nbsp;<span style="color: green">if</span> (<span style="color: blue">dirp</span> == <span style="color: red">NULL</span>) {</br>
                      &nbsp;&nbsp;<span style="color: blue">perror</span>(<span style="color: red">"opendir"</span>);</br>
                      &nbsp;&nbsp;<span style="color: green">return</span>(EXIT_FAILURE);</br>
                      &nbsp;}</br>
                    </br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">26
				<a class="prev" href="#slide25"></a>
                                <a class="next" href="#slide27"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide27">
		<div class="header">
			<h1>Répertoire (dossier)</h1>
		</div>
		<div class="content">
                <code>
                      &nbsp;<span style="color: green">struct</span> dirent * ent;</br>
                      &nbsp;<span style="color: green">while</span>(1) {</br>
                      &nbsp;&nbsp;<span style="color: blue">ent</span> = <span style="color: blue">readdir</span>(<span style="color: blue">dirp</span>);</br>
                      &nbsp;&nbsp;<span style="color: green">if</span> (<span style="color:blue">ent</span> == <span style="color: red">NULL</span>) {</br>
                      &nbsp;&nbsp;&nbsp;<span style="color: green">break</span>;</br>
                      &nbsp;&nbsp;}</br>
                      &nbsp;&nbsp;<span style="color: blue">printf</span>(<span style="color: red">"%s\n"</span>, <span style="color: blue">ent->d_name</span>);</br>
                      &nbsp;}</br>
                    </br>
                      &nbsp;<span style="color: blue">closedir</span>(<span style="color: blue">dirp</span>);</br>
                     </br>
                      &nbsp;<span style="color: green">return</span>(0);</br>
                    }</br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">27
				<a class="prev" href="#slide26"></a>
                                <a class="next" href="#slide28"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide28">
		<div class="header">
			<h1>Réseau: Architecture client-serveur</h1>
		</div>
		<div class="content">
                           <figure>
                             <img src="../../../../../en/teaching/courses/2017/C/images/client-server.svg" height="600vh"/>
                           </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">28
				<a class="prev" href="#slide27"></a>
                                <a class="next" href="#slide29"></a>
			</div>
		</div>
	</section>
        <section class="slide" id="slide29">
		<div class="header">
			<h1>Réseau: Client</h1>
		</div>
		<div class="content">
                   <code>
                    <span style="color: purple">#define</span> PORT 8089</br></br>
                    <span style="color: green">int</span> main() {</br>
                    &nbsp;<span style="color: green">int</span> socketfd;</br>
                    &nbsp;<span style="color: green">int</span> bind_status;</br>
                    &nbsp;<span style="color: green">struct</span> sockaddr_in server_addr, client_addr;</br>
                    </br>
                    &nbsp;<span style="color: blue">/*</br>
                    &nbsp;&nbsp;* Creation of a socket</br>
                    &nbsp;&nbsp;* AF_INET: IPv4 Internet protocols</br>
                    &nbsp;&nbsp;* SOCK_STREAM: two-way, connection-based byte streams</br>
                    &nbsp;&nbsp;*/</span></br>
                    &nbsp;socketfd = socket(AF_INET, SOCK_STREAM, 0);</br>
                    &nbsp;<span style="color: green">if</span> ( socketfd < 0 ) {</br>
                    &nbsp;&nbsp;perror(<span style="color: red">"Unable to open a socket"</span>);</br>
                    &nbsp;&nbsp;<span style="color: green">return</span> -1;</br>
                    &nbsp;}</br>

                  </code>
                  <figure>
                   <img src="../../../../../en/teaching/courses/2017/C/images/clientsocket.svg" height="400vh"/>
                  </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">29
				<a class="prev" href="#slide28"></a>
                                <a class="next" href="#slide30"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide30">
		<div class="header">
			<h1>Réseau: Client</h1>
		</div>
		<div class="content">
                   <code>
                      &nbsp;<span style="color: blue">//server address details</span></br>
                      &nbsp;memset(&server_addr, 0, sizeof(server_addr));</br>
                      &nbsp;server_addr.sin_family = AF_INET;</br>
                      &nbsp;server_addr.sin_port = htons(PORT);</br>
                      &nbsp;server_addr.sin_addr.s_addr = INADDR_ANY;</br>
                    </br>
                      &nbsp;<span style="color: blue">//Connect to the server</span></br>
                      &nbsp;<span style="color: green">int</span> connect_status = connect(socketfd, (struct sockaddr *) </br>
                       &nbsp;  &nbsp;&server_addr, sizeof(server_addr));</br>
                      &nbsp;<span style="color: green">if</span> ( connect_status < 0 ) {</br>
                        &nbsp;&nbsp;perror(<span style="color: red">"Unable to connect to server"</span>);</br>
                        &nbsp;&nbsp;<span style="color: green">return</span> -1;</br>
                      &nbsp;}</br>
                   </code>
                   <figure>
                     <img src="../../../../../en/teaching/courses/2017/C/images/clientsocket.svg" height="400vh"/>
                   </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">30
				<a class="prev" href="#slide29"></a>
                                <a class="next" href="#slide31"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide31">
		<div class="header">
			<h1>Réseau: serveur</h1>
		</div>
		<div class="content">
                   <code>
                    <span style="color: green">int</span> main() {</br>
                    </br>
                    &nbsp;<span style="color: green">int</span> socketfd;</br>
                    &nbsp;<span style="color: green">int</span> bind_status;</br>
                    </br>
                    &nbsp;<span style="color: green">struct</span> sockaddr_in server_addr, client_addr;</br>
                    </br>
                    &nbsp;<span style="color: blue">/*</br>
                    &nbsp;&nbsp;* Creation of a socket</br>
                    &nbsp;&nbsp;* AF_INET: IPv4 Internet protocols</br>
                    &nbsp;&nbsp;* SOCK_STREAM: two-way, connection-based byte streams</br>
                    &nbsp;&nbsp;*/</span></br>
                    &nbsp;socketfd = socket(AF_INET, SOCK_STREAM, 0);</br>
                    &nbsp;<span style="color: green">if</span> ( socketfd < 0 ) {</br>
                    &nbsp;&nbsp;perror(<span style="color: red">"Unable to open a socket"</span>);</br>
                    &nbsp;&nbsp;<span style="color: green">return</span> -1;</br>
                    &nbsp;}</br>
                    </br>
                   </code>
                   <figure>
                     <img src="../../../../../en/teaching/courses/2017/C/images/serversocket.svg" height="600vh"/>
                   </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">31
				<a class="prev" href="#slide30"></a>
                                <a class="next" href="#slide32"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide32">
		<div class="header">
			<h1>Réseau: Architecture cliente-serveur</h1>
		</div>
		<div class="content">
                   <code>
                      &nbsp;<span style="color: green">int</span> option = 1;</br>
                      &nbsp;setsockopt(socketfd, SOL_SOCKET, SO_REUSEADDR, </br>
                      &nbsp;&nbsp;&option, sizeof(option));</br>
                    </br>
                      &nbsp;<span style="color: blue">//server address details</span></br>
                      &nbsp;memset(&server_addr, 0, sizeof(server_addr));</br>
                      &nbsp;server_addr.sin_family = AF_INET;</br>
                      &nbsp;server_addr.sin_port = htons(PORT);</br>
                      &nbsp;server_addr.sin_addr.s_addr = INADDR_ANY;</br>
                    </br>
                      &nbsp;bind_status = bind(socketfd, (struct sockaddr *) </br>
                      &nbsp;&nbsp;&nbsp;&server_addr, sizeof(server_addr));</br>
                      &nbsp;<span style="color: green">if</span> (bind_status < 0 ) {</br>
                      &nbsp;&nbsp;perror("Unable to bind to socket");</br>
                      &nbsp;&nbsp;<span style="color: green">return</span> -1;</br>
                      &nbsp;}</br>
                    </br>
                      &nbsp;<span style="color: blue">// Start listening to the socket</span></br>
                      &nbsp;listen(socketfd, 10);</br>
                   </code>
                   <figure>
                     <img src="../../../../../en/teaching/courses/2017/C/images/serversocket.svg" height="600vh"/>
                   </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">32
				<a class="prev" href="#slide31"></a>
                                <a class="next" href="#slide33"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide33">
		<div class="header">
			<h1>Réseau: serveur</h1>
		</div>
		<div class="content">
                   <code>
                      &nbsp;<span style="color: green">char</span> data[1024];</br>
                    </br>
                      &nbsp;<span style="color: green">int</span> client_addr_len = sizeof(client_addr);</br>
                      &nbsp;<span style="color: green">int</span> client_socket_fd = accept(socketfd, </br>
                      &nbsp;&nbsp;&nbsp;(struct sockaddr *) &client_addr, &client_addr_len);</br>
                      &nbsp;<span style="color: green">if</span>(client_socket_fd < 0 ) {</br>
                      &nbsp;&nbsp;perror("Unable to accept client requests");</br>
                      &nbsp;&nbsp;<span style="color: green">return</span> -1;</br>
                      &nbsp;}</br>
                   </code>
                   <figure>
                     <img src="../../../../../en/teaching/courses/2017/C/images/serversocket.svg" height="600vh"/>
                   </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">33
				<a class="prev" href="#slide32"></a>
                                <a class="next" href="#slide34"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide34">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Préprocesseur</h3>
                  <code>
                  $ gcc -E bonjour.c
                  </code>
                  <figure>
                    <img src="../../../../../en/teaching/courses/2017/C/images/compiler.svg" height="400vh"/>
                  </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">34
				<a class="prev" href="#slide33"></a>
                                <a class="next" href="#slide35"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide35">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Langage intermédiaire</h3>
                  <code>
                  $ gcc -fdump-tree-all bonjour.c</br>
                  $ gcc -fdump-rtl-all bonjour.c
                  </code>
                  <figure>
                    <img src="../../../../../en/teaching/courses/2017/C/images/compiler.svg" height="600vh"/>
                  </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">35
				<a class="prev" href="#slide34"></a>
                                <a class="next" href="#slide36"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide36">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Optimisation de code</h3>
                  <code>
                  $ gcc -O2 bonjour.c</br>
                  $ gcc -O3 bonjour.c</br>
                  </code>
                   <p>
		     <span style="color:red">Remarque:</span> Autres optimisations: -O1  -O2  -O3  -Os -Ofast -Og
			</p>
                   </p>

                  <figure>
                    <img src="../../../../../en/teaching/courses/2017/C/images/compiler.svg" height="600vh"/>
                  </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">36
				<a class="prev" href="#slide35"></a>
                                <a class="next" href="#slide37"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide37">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Génération de code natif</h3>
                  <code>
                  $ gcc -S bonjour.c</br>
                  $ cat bonjour.s
                  </code>
                  <figure>
                    <img src="../../../../../en/teaching/courses/2017/C/images/compiler.svg" height="600vh"/>
                  </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">37
				<a class="prev" href="#slide36"></a>
                                <a class="next" href="#slide38"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide38">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Optimisation de code</h3>
                  <code>
                  <span style="color: green">int</span> <span style="color:blue">main</span>() {</br>
                  &nbsp;&nbsp;<span style="color: green">int</span> <span style="color: blue">num</span> = 2 + 3;</br>
                  &nbsp;&nbsp;<span style="color: green">return</span>(0);</br>
                  }
                  </code>
                  <h3>Compilation (Pas d'optimisations)</h3>
                  <code>
                  $ gcc -O0 -S add.c
                  </code>
                  <code>
                  <h3>add.s</h3>
                    main:</br>
                    .LFB0:</br>
                    &nbsp;&nbsp;.cfi_startproc</br>
                    &nbsp;&nbsp;pushq   %rbp</br>
                    &nbsp;&nbsp;.cfi_def_cfa_offset 16</br>
                    &nbsp;&nbsp;.cfi_offset 6, -16</br>
                    &nbsp;&nbsp;movq    %rsp, %rbp</br>
                    &nbsp;&nbsp;.cfi_def_cfa_register 6</br>
                    &nbsp;&nbsp;movl    $5, -4(%rbp)</br>
                    &nbsp;&nbsp;movl    $0, %eax</br>
                    &nbsp;&nbsp;popq    %rbp</br>
                    &nbsp;&nbsp;.cfi_def_cfa 7, 8</br>
                    &nbsp;&nbsp;ret</br>
                    &nbsp;&nbsp;.cfi_endproc</br>
                  </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">38
				<a class="prev" href="#slide37"></a>
                                <a class="next" href="#slide39"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide39">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Optimisation de code</h3>
                  <code>
                  <span style="color: green">int</span> <span style="color:blue">main</span>() {</br>
                  &nbsp;&nbsp;<span style="color: green">int</span> <span style="color: blue">num</span> = 2 + 3;</br>
                  &nbsp;&nbsp;<span style="color: green">return</span>(0);</br>
                  }
                  </code>
                  <h3>Compilation (optimisation: 2)</h3>
                  <code>
                  $ gcc -O2 -S add.c
                  </code>
                  <code>
                  <h3>add.s</h3>
                    main:</br>
                    .LFB0:</br>
                    &nbsp;&nbsp;.cfi_startproc</br>
                    &nbsp;&nbsp;xorl    %eax, %eax</br>
                    &nbsp;&nbsp;ret</br>
                    &nbsp;&nbsp;.cfi_endproc</br>
                  </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">39
				<a class="prev" href="#slide38"></a>
                                <a class="next" href="#slide40"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide40">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                  <h3>Génération de code</h3>
                  <code>
                  $ gcc -march=i686 -m32 bonjour.c</br>
                  $ gcc -S -march=i686 -m32 bonjour.c</br>
                  </code>
                  <figure>
                    <img src="../../../../../en/teaching/courses/2017/C/images/compiler.svg" height="600vh"/>
                  </figure>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">40
				<a class="prev" href="#slide39"></a>
                                <a class="next" href="#slide41"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide41">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                <h3>Code objet</h3>
                <code>
                $ gcc -c client.c </br>
                $ gcc -c color.c </br>
                $ gcc -o color color.o client.o </br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">41
				<a class="prev" href="#slide40"></a>
                                <a class="next" href="#slide42"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide42">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                <h3>Code objet (Modifications et recompilation)</h3>
                <code>
                $ gcc -c client.c </br>
                $ gcc -c color.c </br>
                $ gcc -o client client.o color.o </br>
                $ vim client.c </br>
                $ gcc -c client.c </br>
                $ gcc -c client.o color.o </br>
                $ vim client.c </br>
                $ gcc -c client.c </br>
                $ gcc -o client client.o color.o </br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">42
				<a class="prev" href="#slide41"></a>
                                <a class="next" href="#slide43"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide43">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                <h3>Makefile</h3>
                <code>
                    <span style="color: green">CC</span> ?= gcc</br>
                    </br>
                    <span style="color: green">COBJS</span> ?= client.o color.o</br>
                    <span style="color: green">SOBJS</span> ?= server.o color.o</br>
                    </br>
                    <span style="color: green">.SUFFIXES</span>: .c .o</br>
                    </br>
                    <span style="color: green">SERVER</span> = server</br>
                    <span style="color: green">CLIENT</span> = client</br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">43
				<a class="prev" href="#slide42"></a>
                                <a class="next" href="#slide44"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide44">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                <h3>Makefile</h3>
                <code>
                    <span style="color: green">all</span>: $(SERVER) $(CLIENT)</br>
                    </br>
                    $(<span style="color: green">SERVER</span>): $(SOBJS)</br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$(CC) -o $(SERVER) $(SOBJS)</br>
                    </br>
                    $(<span style="color: green">CLIENT</span>): $(COBJS)</br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$(CC) -o $(CLIENT) $(COBJS)</br>
                    </br>
                    .c.o: </br>
                    &nbsp;&nbsp;&nbsp;&nbsp;$(CC) -c $*.c</br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">44
				<a class="prev" href="#slide43"></a>
                                <a class="next" href="#slide45"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide45">
		<div class="header">
			<h1>La chaine de compilation</h1>
		</div>
		<div class="content">
                <h3>Exécution d'un Makefile</h3>
                <code>
                $ vim server.c </br>
                $ vim client.c </br>
                $ vim color.c </br>
                $ make</br>
                $ vim color.c </br>
                $ make</br>
                </code>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">45
				<a class="prev" href="#slide44"></a>
                                <a class="next" href="#slide46"></a>
			</div>
		</div>
	</section>
	<section class="slide" id="slide46">
		<div class="header">
			<h1>Références</h1>
		</div>
		<div class="content">
			<h1>Références</h1>
			<ul>
				<li>Langage C, Claude Delannoy</li>
				<li><a href="https://fr.wikipedia.org/wiki/Alignement_en_m%C3%A9moire">https://fr.wikipedia.org/wiki/Alignement_en_mémoire</a>
				<li><a href="https://fr.wikipedia.org/wiki/Compilateur">https://fr.wikipedia.org/wiki/Compilateur</a>
				<li><a href="https://fr.wikipedia.org/wiki/G%C3%A9n%C3%A9ration_de_code_natif">https://fr.wikipedia.org/wiki/G%C3%A9n%C3%A9ration_de_code_natif</a>
			</ul>
			<h1>Crédits d'images</h1>
			<ul>
				<li><a href="https://commons.wikimedia.org/wiki/Main_Page">Wikimedia Commons</a></li>
			</ul>
		</div>
		<div class="footer">
			<div class="contact">Programmation en C | John Samuel</div>
			<div class="navigation">46
				<a class="prev" href="#slide45"></a>
			</div>
		</div>
	</section>

	<script>
		function changeCurrentURLSlideNumber(isIncrement) {
			url = window.location.href;
			position = url.indexOf("#slide");
			if (position != -1) { // Not on the first page
				slideIdString = url.substr(position + 6);
				if (!Number.isNaN(slideIdString)) {
					slideId = parseInt(slideIdString);
					if (isIncrement) {
                                               if (slideId  < 46) {
						slideId = slideId + 1;
                                               }
					} else {
						if (slideId > 1) {
							slideId = slideId - 1;
						}
					}
					url = url.replace(/#slide\d+/g, "#slide" + slideId);
					window.location.href = url;
				}
			} else {
				window.location.href = url + "#slide2";
			}
		}
		document.onkeydown = function(event) {

			event.preventDefault(); /* This will ensure the default behavior of
													        page scroll behaviour (up, down, right, left)*/

			event = event || window.event;
			if (event.keyCode == '37') {
				// left
				changeCurrentURLSlideNumber(false);
			} else if (event.keyCode == '38') {
				// up
				changeCurrentURLSlideNumber(false);
			} else if (event.keyCode == '39') {
				// right
				changeCurrentURLSlideNumber(true);
			} else if (event.keyCode == '40') {
				// down
				changeCurrentURLSlideNumber(true);
			}
		}
		document.body.onmouseup = function(event) {
			event = event || window.event;
			event.preventDefault();
			changeCurrentURLSlideNumber(true);
		}
	</script>
</body>
</html>
