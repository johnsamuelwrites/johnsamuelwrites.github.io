<html>
  <head>
    <meta charset="utf-8"/>
    <title>Datalog Access to Real-World Web Services (Presentation)</title>
    <style>
      body {
        background-color: #8ad4ff;
        font-family: 'Arial', sans-serif;
        width: 100%;
        height: 100%;
        font-size:5vh;
        overflow: hidden;
        margin:0;
      }
      .slide {
        background-color:#71C988;
        width: 100%;
        height: 100%;
      }
      .content {
        width: 100%;
        height: 100%;
      }
      a:link, a:visited {
        color:#2F3E20;
      }
      img {
        vertical-align:middle;
        border:0;
      }
      h4 {
        font-size:3vh;
      }
    </style>
  </head>
  <body>
    <section class="slide" id="slide1">
      <div class="content" style="text-align:center;color:#2F3E20">
        <br/> <br/>
        <h1 style="text-align:center;color:#006699;">
         Datalog Access to Real-World Web Services
        </h1>
        <h3><u>John Samuel</u><sup>1</sup>, Christophe Rey<sup>2</sup></h3>
        <h4>1. CPE Lyon</h4>
        <h4>2. LIMOS, University Clermont-Auvergne</h4>
        <h4>UNILOG 2018, Vichy, 25<sup>th</sup> June, 2018</h4>
        <br/>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="../../2017/Akademy/html/88x31.png" /></a>
      </div>
    </section>
    <section class="slide" id="slide2">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 25%; width: 70%;">
          <img height="500px" src="../../../../fr/enseignement/cours/2017/BigData/images/Socialmedia-pm.png"></img>
       </div>
     </div>
    </section>

    <section class="slide" id="slide3">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ol>
            <li><span style="color:#006699">Web Services</span>
              <ul>
               <li>Numerous</li>
               <li>Heterogeneous</li>
               <li>Autonomous</li>
               <li>Evolving</li>
              </ul>
            </li>
            <li><span style="color:#006699">Question</span>:
              <ul>
               <li>How to integrate with these web services with minimum manual effort?</li>
              </ul>
            </li>
            <li><span style="color:#006699">Methodology</span>:
              <ul>
               <li>Declarative Programming especially using datalog</li>
              </ul>
            </li>
           </ol>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide4">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <h3>1. Understanding Web Services</h3>
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Interfaces</span>
              <ul>
               <li>Web application: Manual consumption using internet browsers</li>
               <li>Application programming interface (API): Machine consumption</li>
              </ul>
            </li>
            <li><span style="color:#006699">API Operation parameters</span>
              <ul>
               <li>Input</li>
               <li>Output</li>
               <li>Error</li>
              </ul>
            </li>
            <li><span style="color:#006699">Operation order</span>
            </li>
            <li><span style="color:#006699">Communication protocol</span>
              <ul>
               <li>HTTP</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide5">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <h3>Understanding Web Services</h3>
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Resource names</span>
              <ul>
               <li>Tasks vs Todos</li>
               <li>Updates vs Tweets</li>
              </ul>
            </li>
            <li><span style="color:#006699">Message Formats</span>
              <ul>
               <li>XML</li>
               <li>JSON</li>
               <li>HTML</li>
              </ul>
            </li>
            <li><span style="color:#006699">Architectural style</span>
              <ul>
               <li>SOAP</li>
               <li>RESTful</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide6">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <h3>Understanding Web Services</h3>
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Service Level Agreements</span>
              <ul>
               <li>N number of API calls per second</li>
               <li>N number of API calls from a single IP address</li>
               <li>Access blocked after limit crosses N calls</li> 
              </ul>
            </li>
            <li><span style="color:#006699">Authentication and Authorization</span>
              <ul>
               <li>Basic HTTP authentication (user name, password)</li>
               <li>Open authentication (OAuth)</li>
               <li>Custom authentication (e.g., special URLs, generation of keys)</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide7">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Web Services: Numerous</span>
              <ul>
               <li>Social Media</li>
               <li>News</li>
               <li>Marketing</li>
               <li>Project Management</li>
               <li>Professional Networking</li>
               <li>Accounting</li>
               <li>Human Resource Management</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide8">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Web Services: Autonomous</span>
              <ul>
               <li>Shift from self-controlled database systems to third-party
managed database systems</li>
               <li>Users cannot modify database schema</li>
               <li>Users cannot modify API</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide9">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Web service: Evolution</span>
              <ul>
               <li>Change in message formats</li>
               <li>Change in operations</li>
               <li>Change in SLA (service level agreements)</li>
               <li>Change in authentication/authorization</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide10">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Web Services: Focus</span>
              <ul>
               <li>Communication protocol: HTTP</li>
               <li>Operations: Data providing operations</li>
               <li>Message formats: XML, JSON</li>
               <li>Authentication: Basic HTTP, OAuth</li>
               <li>RESTful/REST like web services</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide11">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Integration with <span style="color:red">one</span> web Service</span>
              <ul>
               <li>Manually developed programs using API</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide12">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Integration with <span style="color:red">one</span> web Service: Current workflow</span>
              <ul>
               <li>Read Web service API documentation</li>
               <li>Understand business requirements</li>
               <li>Decide relevant operations</li>
               <li>Write program using procedural languages (e.g., Java, PHP)</li>
              </ul>
            </li>
            <li><span style="color:#006699">Problem</span>: Not scalable for a large number of web services</li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide13">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Integration with <span style="color:red">multiple</span> web services: automated solution</span>
              <ul>
               <li>Machine readable documentation for API</li>
               <li>Syntax: WSDL and WADL</li>
               <li>Syntax and Semantics: SAWSDL, OWL-S</li>
               <li>Autogenerated codes</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide14">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Integration with <span style="color:red">multiple</span> web services: automated solution</span>
            </li>
           </ul>
          </div>
          <div style="float:right">
           <img height="500px" src="./APIDocumentation.png"></img>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide15">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <ul>
            <li><span style="color:#006699">Integration with Web Services: automated solution</span>
              <ul>
               <li>There still exists web services having only human-readable API documentation</li>
               <li>Manual effort is therefore still required</li>
              </ul>
            </li>
            <li><span style="color:#006699">Question</span>: Is it possible to reduce this manual effort?</li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide16">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>2. Solution: Data Integration</h3>
           <ul>
            <li><span style="color:#006699">Data integration</span>
              <ul>
               <li>Provides uniform query interface over heterogeneous, autonomous data sources</li>
               <li>More than two decades of research</li>
               <li>Initially proposed for legacy databases</li>
              </ul>
            </li>
            <li><span style="color:#006699">Our proposition</span>:
              <ul>
               <li>Consider data providing API operations as database relations</li>
               <li>Use mediation approach of data integration for querying web services</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide17">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Mediation Approach</h3>
           <ul>
            <li><span style="color:#006699">Global Schema</span>
              <ul>
               <li>Set of relations with attributes</li>
               <li>End user exposed to global schema relations</li>
               <li>Hides underlying heterogeneity of data sources</li>
              </ul>
            </li>
            <li><span style="color:#006699">Local Schema</span>:
              <ul>
               <li>Relations of individual data sources/databases</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide18">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Mediation Approach</h3>
           <ul>
            <li><span style="color:#006699">Mapping</span>
              <ul>
               <li>Mapping required between local and global schema</li>
              </ul>
            </li>
            <li><span style="color:#006699">Mapping approaches</span>:
              <ul>
               <li>GAV (Global as view): Global schema is defined using local schema relations</li>
               <li>LAV (Local as view): Local schema is defined using global schema relations</li>
               <li>GLAV (Global-Local as view)</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide19">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Mediation Approach</h3>
           <ul>
            <li><span style="color:#006699">Languages used for Mapping</span>
              <ul>
               <li>Conjunctive query</li>
               <li>Union of conjunctive query</li>
               <li>Datalog query</li>
              </ul>
            </li>
            <li><span style="color:#006699">Advantages</span>
              <ul>
               <li>Declarative languages (Focus on <b>what</b> and not on <b>how</b>)</li>
               <li>Similar to SELECT-PROJECT-JOIN (SPJ) SQL queries</li>
              </ul>
            </li>
          </div>
         </div>
      </div>
    </section>
    <section class="slide" id="slide20">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Query rewriting</h3>
           <ul>
            <li><span style="color:#006699">Definition</span>
              <ul>
               <li>Translation of queries formulated over the global schema to local schema relations</li>
              </ul>
            </li>
            <li><span style="color:#006699">Algorithms</span>
              <ul>
               <li>Bucket algorithm</li>
               <li>Minicon algorithm</li>
               <li>Inverse-rules algorithm</li>
              </ul>
            </li>
          </div>
         </div>
      </div>
    </section>
    <section class="slide" id="slide21">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Mediation approach in case of Web Services</h3>
           <ul>
            <li><span style="color:#006699">Global Schema</span>
              <ul>
               <li>Created after understanding business requirements</li>
              </ul>
            </li>
            <li><span style="color:#006699">Local Schema</span>
              <ul>
               <li>Every data providing API operation is considered as a local schema relation with access pattern</li>
              </ul>
            </li>
            <li><span style="color:#006699">Mapping</span>
              <ul>
               <li>Local and global schema relations must be mapped manually</li>
              </ul>
            </li>
            <li><span style="color:#006699">Query rewriting</span>
              <ul>
               <li>Queries over global schema must be translated to API operation calls </li>
              </ul>
            </li>
          </div>
         </div>
      </div>
    </section>

    <section class="slide" id="slide22">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Mediation approach in case of Web Services: Query Evaluation</h3>
           <ul>
            <li><span style="color:#006699">Datalog Engine</span>
              <ul>
               <li>Evaluation of query generated by query rewriting algorithm</li>
              </ul>
            </li>
            <li><span style="color:#006699">Wrapper</span>:
              <ul>
               <li>Web service API response (in XML, JSON etc.) transformed to format understood by datalog engine (e.g., facts)</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide23">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Mediation approach in case of Web Services: Wrapper</h3>
           <ul>
            <li><span style="color:#006699">Response Validation</span>
              <ul>
               <li>Validating schema of obtained response</li>
               <li>Declarative languages like XSD, JSON-schema</li>
              </ul>
            </li>
            <li><span style="color:#006699">Response Transformation</span>:
              <ul>
               <li>Transformed obtained response to a desired format</li>
               <li>Declarative languages like XSLT, JSONT</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide24">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
          <h3>3. Implementation</h3>
           <img height="500px" src="./Implementation.png"></img>
         </div>
     </div>
    </section>
    <section class="slide" id="slide25">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <img height="600px" src="./Example.png"></img>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide26">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Implementation</h3>
           <ul>
            <li><span style="color:#006699">Mapping</span>
              <ul>
               <li>LAV mapping using conjunctive queries</li>
              </ul>
            </li>
            <li><span style="color:#006699">Queries on global schema</span>:
              <ul>
               <li>Datalog queries</li>
              </ul>
            </li>
            <li><span style="color:#006699">Generic Web Service API wrapper</span>:
              <ul>
               <li>Response validation and transformation</li>
               <li>XSD and XSLT</li>
              </ul>
            </li>
            <li><span style="color:#006699">Datalog Engine</span>:
              <ul>
               <li>Modified IRIS integrated with generic wrapper</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide27">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <img height="600px" src="./RelatedWorksWebServices.png"></img>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide28">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <img height="600px" src="./Overview.png"></img>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide29">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Use cases</h3>
           <ul>
               <li>Feeding a data warehouse (data analysis)</li>
               <li>Integrated dashboard</li>
               <li>Web mashups</li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide30">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>4. Future Works</h3>
           <ul>
            <li><span style="color:#006699">Limitations and future works</span>
              <ul>
               <li>Incomplete information</li>
               <li>Optimizing number of API operation calls</li>
               <li>Handling errors</li>
               <li>Handling optional input parameters</li>
               <li>Handling heterogeneous SLA</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide31">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:5vh">
           <h3>5. Conclusion</h3>
           <ul>
            <li><span style="color:#006699">Web Services</span>
              <ul>
               <li>Growing use of specialized web services</li>
               <li>Personal and professional use</li>
              </ul>
            </li>
            <li><span style="color:#006699">Integrated solutions</span>
              <ul>
               <li>Need for solutions providing a global overview</li>
               <li>Mediation approach as a partially automated solution</li>
              </ul>
            </li>
            <li><span style="color:#006699">Fully automated solution</span>
              <ul>
               <li>Semantic web languages for describing syntax and semantics</li>
               <li>Use of linked open data</li>
              </ul>
            </li>
           </ul>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide32">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 10%; left: 5%; width: 70%;">
          <div style="font-size:3vh">
           <h3>References</h3>
           <ol>
            <li>Duschka, O.M., Genesereth, M.R., Levy, A.Y.: Recursive query plans for data integration. J. Log. Program. 43(1), 49–73 (2000)</li>
            <li>Espinha, T., Zaidman, A., Gross, H.: Web API growing pains: Loosely coupled yet strongly tied. Journal of Systems and Software 100, 27–43 (2015)</li>
            <li>Fielding, R.T.: Architectural styles and the design of network-based software architectures (2000)</li>
            <li>Grahne, G., Kiricenko, V.: Towards an algebraic theory of information integration.  Inf. Comput. 194(2), 79–100 (2004)</li>
            <li>Halevy, A.Y.: Theory of answering queries using views. SIGMOD Record 29(4), 40–47 (2000)</li>
            <li>Halevy, A.Y.: Answering queries using views: A survey. The VLDB Journal 10(4), 270–294 (Dec 2001)</li>
            <li>Samuel, J.: Feeding a data warehouse with data coming from web services. A mediation approach for the DaWeS prototype. Ph.D. thesis, Blaise Pascal University, Clermont-Ferrand, France (2014)</li>
            <li>Samuel, J.: Towards a data warehouse fed with web services. In: Presutti, V., d’Amato, C., Gandon, F., d’Aquin, M., Staab, S., Tordai, A. (eds.) ESWC PhD Symposium. Lecture Notes in Computer Science, vol. 8465, pp. 874–884. Springer (2014)</li>
            <li>Samuel, J., Rey, C.: Dawes: Data warehouse fed with web services. In: INFORSID (2014)</li>
            <li>Samuel, J., Rey, C.: Generic web service wrapper for mediation based data warehousing. In: Akerkar, R., Plantié, M., Ranwez, S., Harispe, S., Lau- rent, A., Bellot, P., Montmain, J., Trousset, F. (eds.) Proceedings of the 6th International Conference on Web Intelligence, Mining and Semantics, WIMS 2016, Nı̂mes, France, June 13-15, 2016. pp. 34:1–34:4. ACM (2016)</li>
            <li>Ullman, J.: Information integration using logical views. Theoretical Computer Science 239(2), 189–210 (2000)</li>
           </ol>
          </div>
         </div>
     </div>
    </section>
    <section class="slide" id="slide33">
      <div class="content" style="color:#2F3E20">
        <div style="position: relative; top: 40%; left: 35%; width: 70%;">
          <div style="font-size:5vh">
           <h3>Thank you</h3>
          </div>
          <div style="font-size:7vh">
           <h3>Questions?</h3>
          </div>
         </div>
     </div>
    </section>
	<script>
		function changeCurrentURLSlideNumber(isIncrement) {
			url = window.location.href;
			position = url.indexOf("#slide");
			if (position != -1) { // Not on the first page
				slideIdString = url.substr(position + 6);
				if (!Number.isNaN(slideIdString)) {
					slideId = parseInt(slideIdString);
					if (isIncrement) {
                                           if (slideId<33)
						slideId = slideId + 1;
					} else {
						if (slideId > 0) {
							slideId = slideId - 1;
						}
					}
					url = url.replace(/#slide\d+/g, "#slide" + slideId);
					window.location.href = url;
				}
			} else {
				window.location.href = url + "#slide2";
			}
		}
		document.onkeydown = function(event) {

			event.preventDefault(); /* This will ensure the default behavior of
					        page scroll behaviour (up, down, right, left)*/

			event = event || window.event;
			if (event.keyCode == '37') {
				// left
				changeCurrentURLSlideNumber(false);
			} else if (event.keyCode == '38') {
				// up
				changeCurrentURLSlideNumber(false);
			} else if (event.keyCode == '39') {
				// right
				changeCurrentURLSlideNumber(true);
			} else if (event.keyCode == '40') {
				// down
				changeCurrentURLSlideNumber(true);
			}
		}
		document.body.onmouseup  = function(event) {
			event = event || window.event;
			event.preventDefault();
			changeCurrentURLSlideNumber(true);
		}
	</script>
  </body>
</html>
