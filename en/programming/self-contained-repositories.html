<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Language" content="en"/>
    <link rel="shortcut icon" href="../../images/logo/favicon.png"/>
    <title>Self Contained Repositories: John Samuel</title>
    <style type="text/css">
    body{
      background-color: #FFFFFF;
    }
    #sidebar {
      position: fixed;
      background-color: #009AA6;
      top: 0;
      left: 0;
      bottom: 0;
      width:30vw;
    }
    #sidebar .title {
      position:relative;
      text-align: center;
      line-height: 5vmax;
      font-size: 1.4vmax;
      font-family: 'Arial';
      margin-top: 30vh;
    }
    #sidebar .title a:link,
    #sidebar .title a:visited{
     color: #FFFFFF;
     text-decoration:none;
    }
    .subtitle {
      top: 50vh;
      text-align: center;
      line-height: 1.3vmax;
      font-family: 'Arial';
      font-size: 1.2vmax;
      color: #FFFFFF;
    }
    .subtitle a:link,
    .subtitle a:visited{
     color: #FFFFFF;
     text-decoration:none;
    }
    .licence {
      position:fixed;
      text-align: right;
      bottom:0;
      right:0;
    }
    .home {
     position:fixed;
     text-align: left;
     font-family: 'Arial';
     color: #D3D3D3;
     z-index:100;
     width:100%;
     background-color:#FFFFFF;
     top:0px;
     margin-bottom:10px;
     padding-bottom:10px;
    }
    .home a:link,
    .home a:visited{
     text-decoration:none;
     color: #D3D3D3;
    }
    .home ul{
      margin: 0;
      padding: 0;
      text-align: left;
      list-style:none;
    }
    .home li{
     position: relative;
     float: left;
     padding-top:15px;
     margin-right: 1em;
     font-family: 'Arial';
    }
    .home li:hover {
      display:block;
    }
    .home li:hover a:link,
    .home li:hover a:visited{
      text-decoration:none;
      padding:15px;
      color:#FFFFFF;
      background-color: #009AA6;
    }
    .content {
     line-height: 1.8vmax;
     font-size: 1.2vmax;
     font-family: 'Arial';
     margin-top: 15vh;
     width:90%;
    }
    .content h2, h3, h4{
     color:#009AA6;
    }
    .content a:link,
    .content a:visited{
     color: #009AA6;
    }
    .content h3 {
     color: #009AA6;
    }
    .content h2::before,
    .content h3::before{
       display: block;
       content : " ";
       visibility:hidden;
       height:50px;
       margin-top:-50px;
       pointer-events: none;
       background-color:#FFFFFF;
    }
    .content a:link,
    .content a:visited{
     color:#009AA6;
    }
    .home a:link,
    .home a:visited{
     color: #D3D3D3;
    }
    .page {
      width:65vw;
      height:100%;
      margin-left:30vw;
      overflow: hidden;
      padding: 0 1em;
      font-family: 'Arial';
    }
   .page img {
     max-width:100%;
     max-height:100%;
   }
    @media (max-width: 640px), screen and (orientation: portrait) {
      body {
        max-width:100%;
        max-height:100%;
      }
      #sidebar {
        position: fixed;
        background-color: #009AA6;
        top: 0;
        left: 0;
        bottom: 80vh;
        width:100vw;
      }
      #sidebar .title {
        text-align: center;
        position: fixed;
        margin-top: 6vh;
        left:0px;
        right:0px;
        line-height: 3.5vmax;
        font-size: 1.5vmax;
        font-family: 'Arial';
      }
      #sidebar .subtitle {
        text-align:center;
        top: 5vh;
        left:0px;
        right:0px;
        position: fixed;
        margin-top: 10vh;
        font-size: 1.5vmax;
      }
      #sidebar .title a:link,
      #sidebar .title a:visited{
        text-align:center;
        color:#FFFFFF;
      }
      #sidebar .subtitle a:link,
      #sidebar .subtitle a:visited{
        text-align:center;
        color:#FFFFFF;
      }
      .home{
        z-index:100;
        width:100%;
        background-color:#009AA6;
        font-size:1.5vmax;
      }
      .home a:link,
      .home a:visited{
        text-decoration:none;
        color:#FFFFFF;
      }
      .content {
        line-height: 3.8vmax;
        font-size: 1.8vmax;
        font-family: 'Arial';
        margin-top:22vh;
      }
      .content a:link,
      .content a:visited{
        color:#009AA6;
      }
      .page {
        top: 40vh;
        width:95%;
        margin-left:0vw;
      }
      .page img {
        max-width:100%;
        max-height:100%;
        border:0;
      }
    }

    </style>
  </head>
  <body vocab="http://schema.org/">
    <div id="sidebar">
     <div class="title">
      <h1><a href="./self-contained-repositories.html">Self Contained Repositories</a></h1>
     </div>
     <div class="subtitle">
      <h3><a href="../about.html">John Samuel</a></h3>
     </div>
    </div>
    <div class="page">
      <div class="home">
       <ul typeof="BreadcrumbList">
        <li property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="../index.html">
              <span property="name">Home</span>
            </a>
        </li>
        <li property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="../programming/index.html">
              <span property="name">Programming</span>
            </a>
        </li>
        <li property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="../research/research.html">
              <span property="name">Research</span>
            </a>
        </li>
       </ul>
      </div>
      <div class="content">
        <p style="color:red;text-align:center">NOTE: Article in Progress</p>
        <i>
          Everyday, we use numerous scripts, tools and applications, sometimes even on multiple operating systems and much lately, multiple mobile applications.
          However, if any user wants to understand more about an application, there's rarely a one-point entry or a single place, where one can find all the information required to understand and use it.
          Quite often the approach is to add a documentation folder that gives links to all the possible websites, internal as well as external for explaining the application.
          The users, in most cases either end up completely overwhelmed or completely lost.
          This article explores the concept of self-contained repositories, repositories that contain everything that is required within itself.
        </i>
        <p>For more than a decade, I have been using open-source projects.
           And much lately, I have been analysing several such projects especially on Github<sup><a href="#github">1</a></sup>, Gitlab<sup><a href="#gitlab">2</a></sup> etc. and in particular their (code) repositories.
          Most of these repositories contain the source-code of the application, with occasional links to websites for official pages as well as for the complete documentation.
          And it is quite rare to find a repository that is self-contained, i.e., if a user clones a repository, they will find the complete information to understand the context, purpose and relevant documentation of the repository.
        </p>
        <p>
          In most of the projects, the entire code is on one website, the documentation on another web site, any application programming interface (API) description on a third website, continuous integration details on yet another website.
          If one has to request for new features or report any bugs, they are once again on one another website.
          Then there are discussions around a new feature or a bug that can only be found in some mailing lists.
          In short, one has to search multiple places just to understand what's going on, what the project is all about or why a particular decision was made.
          Some repositories do provide a single page, giving links to all the above, both within and outside the repository. 
          However, as external websites evolve, a  major problem is the link rot<sup><a href="#linkrot">2</a></sup> in these repositories, with links pointing to unavailable resources.
        </p>
        <p>
          One may see that this could be deliberate or even a business model, yet I find it contrary to the principles of open-source movement.
          Many services including the ones stated above have understood this problem and they are trying to integrate a lot of information with the code repositories, like documentation wikis, issue tracking, continuous integration etc.
          This is indeed a good step, but are these repositories completely tied to these services and have no possibility to easily switch to other services.
        </p>
        <h2>Self-contained Repositories</h2>
        <p>
          What is a <b>self-contained repository</b>?
          A self-contained repository of a project is <i>a repository where everything concerning a project is available in one single place, within the project repository itself</i>.
         In the repository, users can find <b>everything</b> concerning the project: all discussions, complete documentation both for end-users and developers, screenshots,...
        </p>
        <h3>Checklist</h3>
        <p>What could be the contents of a self-contained repository, apart from the source-code? or to put in other words, what is the <b>checklist for a self-contained repository</b>? Given below is a non-exhaustive list, attempting to cover all the key aspects of a project.
        </p>
        <ul>
            <li><b>Source code</b>
              <ul>
                <li>Main source code</li>
                <li>Debugging options</li>
                <li>Logging options</li>
                <li>Dependencies: package dependencies, if any</li>
                <li>Unit tests, Integration tests, functional tests, stress tests, performance tests</li>
              </ul>
            </li>
            <li><b>Specifications</b>
              <ul>
                <li>Requirement analysis (platform requirements, hardware, software, memory constraints etc.)</li>
                <li>Design: UML diagrams, flow charts, data flow diagrams</li>
                <li>verification and validation</li>
              </ul>
            </li>
            <li><b>Logo</b>
              <ul>
                <li>Logos in different sizes (especially logos in SVG formats)</li>
              </ul>
            </li>
            <li><b>Graphical User Interface (GUI)</b>
              <ul>
                <li>Discussions and Resolution</li>
                <li>Screenshots of different </li>
                <li>Desktop solution</li>
                <li>Web-browser based solution</li>
              </ul>
            </li>
            <li><b>Command-line Interface</b>
              <ul>
                <li>Discussions and Resolution</li>
                <li>Screenshots of different </li>
              </ul>
            </li>
            <li><b>Application Programming Interface (API)</b>
              <ul>
                <li>REST or other web service API architecture</li>
                <li>SDK (software development kits) in various programming languages</li>
              </ul>
            </li>
            <li><b>Todo List</b>
              <ul>
                <li>Feature Requests (e.g. user interface mockups)</li>
                <li>Discussions and Resolution</li>
                <li>Status</li>
              </ul>
            </li>
            <li><b>Issues List</b>
              <ul>
                <li>Bugs</li>
                <li>Discussions and Resolution</li>
                <li>Status</li>
              </ul>
            </li>
            <li><b>Discussions</b>
              <ul>
                <li>Meetings, discussions, and resolutions</li>
              </ul>
            </li>
            <li><b>Code Review</b>
              <ul>
                <li>Code reviews, discussions</li>
                <li>Associated code changes</li>
              </ul>
            </li>
            <li><b>Packaging</b>
              <ul>
                <li>Packaging - packaging for various os or distibutions</li>
                <li>Containers (docker containers, linux containers or open containers)</li>
              </ul>
            </li>
            <li><b>Version Control</b>
              <ul>
                <li>Distributed version control systems like GIT</li>
                <li>Files to be ignored from the repositories like .gitignore</li>
              </ul>
            </li>
            <li><b>Profile</b>
              <ul>
                <li>Development details: continuous integration, code coverage, system and memory profile</li>
              </ul>
            </li>
            <li><b>Releases</b>
              <ul>
                <li>Feature releases, issues resolved</li>
                <li>Dependency: new package dependency, if any</li>
              </ul>
            </li>
            <li><b>Verification and Validation</b>
              <ul>
                <li>Test case</li>
              </ul>
            </li>
            <li><b>Licence</b>
              <ul>
                <li>Source code</li>
                <li>Documentation</li>
              </ul>
            </li>
            <li><b>Code of Conduct</b>
              <ul>
                <li>Contributors</li>
                <li>Programming and documentation style</li>
              </ul>
            </li>
            <li><b>Documentation (wiki and manpages)</b>
              <ul>
                <li>Quick start, compilation </li>
                <li>Application/program description</li>
                <li>Application compilation, installation, development and testing</li>
                <li>UI Screenshots</li>
                <li>Documentation, command line options, gui, man pages</li>
              </ul>
            </li>
        </ul>
        <h2>Existing works</h2>
        <p>An interesting work that ensures self-containment is CDE<sup><a href="#cde">5</a></sup> (code, data, environment) that enables automatic creation of portable Linux applications. 
           CDE<sup><a href="#cdesite">6</a></sup>,<sup><a href="#cderepository">7</a></sup> ensures that packages are built in a manner that the user can run it in any Linux distribution, irrespective of their versions.
           The packages generated are self-contained with all the code, data and environment required to run it anywhere.
           It's available as a command-line util <i>cde</i> in many Linux distributions.
        </p>
        <p>Another more recent approach is to use containers<sup><a href="#docker">8</a></sup> for creating portable packages. 
           Dockerfiles<sup><a href="#dockerfiles">9</a></sup> used in this purpose contain all instructions that can be run to build a package with the desired code, environment and data on any machine, including virtual machines.
           However, the use of dockerfiles differs from that of CDE.
           CDE buids a package cotaining all the necessary environment, whereas Dockerfiles are just a instructions to build such a package.
           Continuing with our discussion on self-contained repositories, CDE is a much closer work.
           But self-contained repositories contain more than just code, data and environment.
           They contain the complete context of a project, as described above in the checklist.
        </p>
        <h2>Challenges</h2>
        <p>As mentioned above, though many current software repository service do integrate many key concepts surroundinga project and not are just limited to providing version control for source code, one major problem is their data portability<sup><a href="#portability">10</a></sup>.
           Different services have been propular from time to time, but when these services shutdown for many reasons including lack of a sound financial sustainance model, there goes the data as well.
           Hence, it is important to use open standard data formats like JSON, XML, Markdown etc. or any formats based on them.
           Without doubt, it's important to know whether the application owners wish to make the repository completely accessible over internet browser.
           In that case, open web standards like HTML, CSS can surely be for documentation.
           Standards like SVG, Canvas can be used to document user interface mockups along with the screenshots of the developed application.
        </p>
        <p>Behind every application, there is a motivation.
           This could be based on the understanding of market demands, or something arising from a personal need.
           Such backdrops are usually seen on the personal blogs of repository contributors.
           Contributors like designers, developers, bug reporters etc. have their own versions of behind the scene narratives of the application.
           This personal touch to a repository, especially for applications with a very small contributor base help others to understand whether the application can be indeed a solution for their problems.
        </p>
        <p>Another challenge is how to manage the self-contained repositories evolve the community size increases.
           It's important to note that as the community size increases, it may not be feasible to document everything in some textual file formats. 
           In large projects, there may be need to store and the ability to search bugs, feature requests, todos and issues.
           Thus, it may require use of proper data store solutions like relational and non-relational databases. 
           Here again, self-contained repositories do not constrain the use of any such solution.
           Having said that, the repository can be called self-contained, if it provides the complete data dump of these databases and if necessary, even the executable of the solution used.
           Yet, if the data dumps are in open data formats like HTML, there may not be a need to include the executable.
        </p>
        <p>
           When the self-repository has a very large diverse community base, all relevant documentation cannot be just limited to just one language (like English), but must have multilingual support.
           The multilingual support has the additional advantage that the application may be accessible to the users acros the world.
           Layered SVG diagrams for mockups can not only provide coarse grained to fine grained information related to an application, but can also be used for multilingual documentation.
           Certainly, such multilingual repository is a tough exercise, especially considering the manual efforts.
        <p>
        </p>
           Finally, is there a limit on the repository size?
           A self-contained repository requires more storage space than regular repositories.
        </p>
        <h2>Conclusion</h2>
        <p>
          Building a well-documented self-contained repository is clearly a difficult task, especially knowing that a lot of our current practices are dependent on different solutions.
          Yet, self-containment does not restrict the use of any external solution, but rather that all the data associated with these solutions are present in the repository in an accessible manner.
          Openness and transparency are the pillars of open-source movement.
          Hence, any information associated of a open-source project must be part of the repository.
        </p>
        <h2>References</h2>
        <p>
          <ol>
            <li id="github"><a href="https://github.com/">Github</a></li>
            <li id="gitlab"><a href="https://github.com/">https://about.gitlab.com/</a></li>
            <li id="linkrot"><a href="https://en.wikipedia.org/wiki/Link_rot">Link rot</a></li>
            <li id="repository"><a href="https://en.wikipedia.org/wiki/Repository_%28revision_control%29">Repository</a></li>
            <li id="cde">Philip J. Guo and Dawson Engler. 2011. CDE: using system call interposition to automatically create portable software packages. In Proceedings of the 2011 USENIX conference on USENIX annual technical conference (USENIXATC’11). USENIX Association, USA, 21.</li>
            <li id="cdesite"><a href="http://www.pgbovine.net/cde.html">CDE: Automatically create portable Linux applications</a></li>
            <li id="cderepository"><a href="https://github.com/pgbovine/CDE">CDE</a></li>
            <li id="docker"><a href="https://www.infoq.com/articles/docker-containers/">Docker: Using Linux Containers to Support Portable Application Deployment</a></li>
            <li id="dockersite"><a href="https://www.docker.com/">Docker</a></li>
            <li id="portability"><a href="https://en.wikipedia.org/wiki/Data_portability">Data portability</a></li>
          </ol>
        </p>
      </div>
    </div>
  </body>
</html>
