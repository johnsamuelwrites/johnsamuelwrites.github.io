<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Language" content="en" />
        <link rel="shortcut icon" href="../../images/logo/favicon.png" />
        <title>Shape Expressions (ShEx) for Wikidata: John Samuel</title>
        <style type="text/css">
            body {
                background-color: #FFFFFF;
            }

            #sidebar {
                position: fixed;
                background-color: #1B80CF;
                top: 0;
                left: 0;
                bottom: 0;
                width: 30vw;
            }

            #sidebar .title {
                position: relative;
                text-align: center;
                line-height: 4vmax;
                font-size: 1.4vmax;
                font-family: 'Arial';
                margin-top: 30vh;
            }

            #sidebar .title a:link,
            #sidebar .title a:visited {
                color: #FFFFFF;
                text-decoration: none;
            }

            .subtitle {
                top: 50vh;
                text-align: center;
                line-height: 1.3vmax;
                font-family: 'Arial';
                font-size: 1.5vmax;
                color: #FFFFFF;
            }

            .subtitle a:link,
            .subtitle a:visited {
                color: #FFFFFF;
                text-decoration: none;
            }

            .licence {
                position: fixed;
                text-align: right;
                bottom: 0;
                right: 0;
            }

            .home {
                position: fixed;
                text-align: left;
                font-family: 'Arial';
                color: #D3D3D3;
                z-index: 100;
                width: 100%;
                background-color: #FFFFFF;
                top: 0px;
                margin-bottom: 10px;
                padding-bottom: 10px;
            }

            .home a:link,
            .home a:visited {
                text-decoration: none;
                color: #D3D3D3;
            }

            .home ul {
                margin: 0;
                padding: 0;
                text-align: left;
                list-style: none;
            }

            .home li {
                position: relative;
                float: left;
                padding-top: 15px;
                margin-right: 1em;
                font-family: 'Arial';
            }

            .home li:hover {
                display: block;
            }

            .home a:link,
            .home a:visited {
                color: #D3D3D3;
            }

            .home li:hover a:link,
            .home li:hover a:visited {
                text-decoration: none;
                padding: 15px;
                color: #FFFFFF;
                background-color: #1B80CF;
            }

            .content {
                line-height: 1.8vmax;
                font-size: 1.2vmax;
                font-family: 'Arial';
                margin-top: 15vh;
                width: 90%;
            }

            .content h2,
            h3,
            h4 {
                color: #1B80CF;
            }

            .content a:link,
            .content a:visited {
                color: #1B80CF;
            }

            .content h3 {
                color: #1B80CF;
            }

            .content h2::before,
            .content h3::before {
                display: block;
                content: " ";
                visibility: hidden;
                height: 50px;
                margin-top: -50px;
                pointer-events: none;
                background-color: #FFFFFF;
            }

            .content a:link,
            .content a:visited {
                color: #1B80CF;
            }

            .content li {
                margin: 5px;
            }

            .page {
                width: 65vw;
                height: 100%;
                margin-left: 30vw;
                overflow: hidden;
                padding: 0 1em;
                font-family: 'Arial';
            }

            .page figure {
                margin-right: 0;
                margin-left: 0;
                width: 100%;
            }

            .page figure>figcaption {
                text-align: center;
                font-weight: bold;
            }

            .page img {
                max-width: 100%;
                max-height: 100%;
            }

            @media (max-width: 640px),
            screen and (orientation: portrait) {
                body {
                    max-width: 100%;
                    max-height: 100%;
                }

                #sidebar {
                    position: fixed;
                    background-color: #1B80CF;
                    top: 0;
                    left: 0;
                    bottom: 80vh;
                    width: 100vw;
                }

                #sidebar .title {
                    text-align: center;
                    position: fixed;
                    margin-top: 6vh;
                    left: 0px;
                    right: 0px;
                    line-height: 3.5vmax;
                    font-size: 1.5vmax;
                    font-family: 'Arial';
                }

                #sidebar .subtitle {
                    text-align: center;
                    top: 5vh;
                    left: 0px;
                    right: 0px;
                    position: fixed;
                    margin-top: 10vh;
                    font-size: 1.5vmax;
                }

                #sidebar .title a:link,
                #sidebar .title a:visited {
                    text-align: center;
                    color: #FFFFFF;
                }

                #sidebar .subtitle a:link,
                #sidebar .subtitle a:visited {
                    text-align: center;
                    color: #FFFFFF;
                }

                .home {
                    z-index: 100;
                    width: 100%;
                    background-color: #1B80CF;
                    font-size: 1.5vmax;
                }

                .home a:link,
                .home a:visited {
                    text-decoration: none;
                    color: #FFFFFF;
                }

                .content {
                    line-height: 3.8vmax;
                    font-size: 1.8vmax;
                    font-family: 'Arial';
                    margin-top: 22vh;
                }

                .content a:link,
                .content a:visited {
                    color: #1B80CF;
                }

                .page {
                    top: 40vh;
                    width: 95%;
                    margin-left: 0vw;
                }

                .page img {
                    max-width: 100%;
                    max-height: 100%;
                    border: 0;
                }
            }
        </style>
    </head>

    <body vocab="http://schema.org/" typeof="Website">
        <div id="sidebar">
            <div id="sidebar">
                <div class="title">
                    <h1 lang="en"><a href="./index.html" property="url" typeof="WebPage"><span typeof="WebPage">Shape
                                Expressions (ShEx) for Wikidata</span></a></h1>
                </div>
                <div class="subtitle">
                    <h3 lang="en"><a href="../../index.html" property="url" typeof="WebPage"><span typeof="WebPage"
                                property="author">John Samuel</span></a></h4>
                </div>
            </div>
        </div>

        <div class="page" typeof="WebPage">
            <div class="home">
                <ul typeof="BreadcrumbList">
                    <li property="itemListElement" typeof="ListItem">
                        <a property="item" typeof="WebPage" href="../index.html">
                            <span property="name">Home</span>
                        </a>
                    </li>
                    <li property="itemListElement" typeof="ListItem">
                        <a property="item" typeof="WebPage" href="../research/research.html">
                            <span property="name">Research</span>
                        </a>
                    </li>
                </ul>

            </div>
            <div class="content">
                <h3>Overview</h3>
                <p>
                    <strong>Shape Expressions (ShEx)</strong> is a concise, formal language for describing and
                    validating data structures in RDF (Resource Description Framework) graphs, which underpin
                    Wikidata. Through ShEx, contributors can define <em>schemas</em>—also called <em>entity
                        schemas</em>—that enforce consistent patterns and quality standards in Wikidata data. This
                    article introduces ShEx for Wikidata with an emphasis on how CSV-like tabular formats using
                    <strong>ShExStatements</strong> simplify schema authoring for users without deep technical
                    knowledge.
                </p>

                <h3>Why Use ShEx in Wikidata?</h3>
                <ul>
                    <li><strong>Improved Data Quality:</strong> ShEx validation catches missing or inconsistent
                        statements, ensuring reliable, well-structured data.</li>
                    <li><strong>Better Documentation:</strong> ShEx schemas serve as living documentation of data
                        models, making complex Wikidata structures more transparent to current and new contributors.
                    </li>
                    <li><strong>Enhanced Interoperability:</strong> Adherence to formal schemas ensures
                        compatibility with other RDF and Linked Data systems, facilitating data reuse on the
                        semantic web.</li>
                    <li><strong>Automated Error Detection:</strong> Schemas allow tools and editors to flag
                        structural issues in real time, improving both human and automated contributions.</li>
                </ul>

                <h3>Simplifying ShEx with ShExStatements</h3>
                <p>
                    <strong>ShExStatements</strong> is a tool that enables users to create ShEx schemas using
                    straightforward, tabular CSV files rather than traditional ShEx syntax. This makes authoring and
                    maintaining entity schemas accessible to Wikidata users with diverse backgrounds.
                </p>
                <ul>
                    <li><strong>Tabular Input:</strong> Users enter schema constraints in CSV files, with each row
                        representing a statement or prefix.</li>
                    <li><strong>Accessible Tools:</strong> ShExStatements can be used via the command line or web
                        interfaces, and supports common spreadsheet formats.</li>
                    <li><strong>Wide Adoption:</strong> Used to simplify schema creation for various data models,
                        from languages to TV series and more.</li>
                </ul>

                <h4>CSV Format Structure</h4>
                <p>
                    A typical ShExStatements CSV includes the following columns:
                </p>
                <ol>
                    <li><strong>Node name</strong> (e.g., @language)</li>
                    <li><strong>Property name</strong> (e.g., wdt:P31)</li>
                    <li><strong>Value(s)</strong> (e.g., wd:Q34770 or . for any value)</li>
                    <li><strong>Cardinality</strong> (e.g., +, *, ?, left empty for required, or m, m,n for custom
                        ranges)</li>
                    <li><strong>Comment</strong> (starts with #)</li>
                </ol>
                <p>
                    The CSV may start with definitions for prefixes, where only the first three columns are used.
                </p>

                <h4>Example: Language Schema in CSV and ShExC</h4>

                <p>
                    Below is a direct example from the ShExStatements documentation for modeling a
                    <strong>language</strong> entity in Wikidata, first in the CSV-like format, then the generated
                    ShEx Compact syntax (ShExC):
                </p>
                <table>
                    <thead>
                        <tr>
                            <th>Node</th>
                            <th>Property</th>
                            <th>Value</th>
                            <th>Cardinality</th>
                            <th>Comment</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>wd</td>
                            <td>&lt;http://www.wikidata.org/entity/&gt;</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>wdt</td>
                            <td>&lt;http://www.wikidata.org/prop/direct/&gt;</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>xsd</td>
                            <td>&lt;http://www.w3.org/2001/XMLSchema#&gt;</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P31</td>
                            <td>wd:Q34770</td>
                            <td></td>
                            <td># instance of a language</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P1705</td>
                            <td>LITERAL</td>
                            <td></td>
                            <td># native name</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P17</td>
                            <td>.</td>
                            <td>+</td>
                            <td># spoken in country</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P2989</td>
                            <td>.</td>
                            <td>+</td>
                            <td># grammatical cases</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P282</td>
                            <td>.</td>
                            <td>+</td>
                            <td># writing system</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P1098</td>
                            <td>.</td>
                            <td>+</td>
                            <td># speakers</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P1999</td>
                            <td>.</td>
                            <td>*</td>
                            <td># UNESCO language status</td>
                        </tr>
                        <tr>
                            <td>@language</td>
                            <td>wdt:P2341</td>
                            <td>.</td>
                            <td>+</td>
                            <td># indigenous to</td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    The above CSV can be converted using ShExStatements into the following ShExC:
                </p>

                <pre>
                  PREFIX wd: <http://www.wikidata.org/entity/>
                  PREFIX wdt: <http://www.wikidata.org/prop/direct/>
                  PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
                  
                  start = @<language>
                  <language> {
                    wdt:P31 [ wd:Q34770 ] ;        # instance of a language
                    wdt:P1705 LITERAL ;            # native name
                    wdt:P17 .+ ;                   # spoken in country
                    wdt:P2989 .+ ;                 # grammatical cases
                    wdt:P282 .+ ;                  # writing system
                    wdt:P1098 .+ ;                 # speakers
                    wdt:P1999 .* ;                 # UNESCO language status
                    wdt:P2341 .+ ;                 # indigenous to
                  }
                    </pre>

                <h4>Other Examples</h4>
                <p>
                    More example CSV files for other Wikidata entity types are available in the <a
                        href="https://github.com/johnsamuelwrites/ShExStatements/tree/master/examples/wikidata">ShExStatements
                        GitHub repository</a>, such as schemas for TV series, footballers, and more. The process
                    remains the same: edit a simple CSV, and use the tool to generate robust ShEx code.
                </p>

                <h3>Development and Tooling</h3>
                <ul>
                    <li><strong>Python Implementation:</strong> ShExStatements is primarily built in Python for both
                        CLI and API usage.</li>
                    <li><strong>Integration with Spreadsheets:</strong> Supports .csv, .xls, .xlsx, and .ods file
                        formats for schema definitions.</li>
                </ul>

                <h3>Challenges and Ongoing Efforts</h3>
                <ul>
                    <li><strong>Schema Adoption:</strong> There is a gap between available schemas and the breadth
                        of Wikidata’s domains. Community engagement and tool improvements aim to close this gap.
                    </li>
                    <li><strong>Coverage and References:</strong> Ensuring comprehensive schemas, including
                        references and sources, is a continuous task as Wikidata’s structure evolves.</li>
                    <li><strong>Ease of Use:</strong> Striking the right balance between simplicity and
                        expressiveness in schema authoring tools is a priority for the community.</li>
                </ul>

                <h3>Conclusion</h3>
                <p>
                    ShExStatements enables Wikidata contributors to author, maintain, and apply data validation
                    schemas with minimal technical hurdles. Its CSV-based approach lowers the barrier for
                    high-quality data modeling, promoting robust, interoperable, and well-documented Wikidata
                    content.
                </p>

                <h3>References</h3>
                <ol>
                    <li><strong>ShExStatements Documentation:</strong> <a
                            href="https://shexstatements.readthedocs.io">Official Docs</a></li>
                    <li><strong>Wikidata Schema Portal:</strong> Guidance and tutorials for entity schemas</li>
                    <li><strong>ShEx Primer and Specification:</strong> Learn more about Shape Expressions as a
                        language</li>
                    <li><strong>GitHub Examples:</strong> Practical CSV and ShExC examples for various domains in
                        Wikidata</li>
                    <li><a href="https://dl.acm.org/doi/10.1145/3442442.3452349">ShExStatements: Simplifying Shape
                            Expressions for Wikidata</a></li>
                </ol>
            </div>
        </div>
    </body>

</html>