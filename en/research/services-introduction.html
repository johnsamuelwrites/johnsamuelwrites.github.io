<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Language" content="en" />
    <link rel="shortcut icon" href="../../images/logo/favicon.png" />
    <title>Introduction to Web Services: John Samuel</title>
    <style type="text/css">
        body {
            background-color: #FFFFFF;
        }
        
        #sidebar {
            position: fixed;
            background-color: #1B80CF;
            top: 0;
            left: 0;
            bottom: 0;
            width: 30vw;
        }
        
        #sidebar .title {
            position: relative;
            text-align: center;
            line-height: 4vmax;
            font-size: 1.4vmax;
            font-family: 'Arial';
            margin-top: 25vh;
        }
        
        #sidebar .title a:link,
        #sidebar .title a:visited {
            color: #FFFFFF;
            text-decoration: none;
        }
        
        .subtitle {
            top: 50vh;
            text-align: center;
            line-height: 1.3vmax;
            font-family: 'Arial';
            font-size: 1.5vmax;
            color: #FFFFFF;
        }
        
        .subtitle a:link,
        .subtitle a:visited {
            color: #FFFFFF;
            text-decoration: none;
        }
        
        .licence {
            position: fixed;
            text-align: right;
            bottom: 0;
            right: 0;
        }
        
        .home {
            position: fixed;
            text-align: left;
            font-family: 'Arial';
            color: #D3D3D3;
            z-index: 100;
            width: 100%;
            background-color: #FFFFFF;
            top: 0px;
            margin-bottom: 10px;
            padding-bottom: 10px;
        }
        
        .home a:link,
        .home a:visited {
            text-decoration: none;
            color: #D3D3D3;
        }
        
        .home ul {
            margin: 0;
            padding: 0;
            text-align: left;
            list-style: none;
        }
        
        .home li {
            position: relative;
            float: left;
            padding-top: 15px;
            margin-right: 1em;
            font-family: 'Arial';
        }
        
        .home li:hover {
            display: block;
        }
        
        .home a:link,
        .home a:visited {
            color: #D3D3D3;
        }
        
        .home li:hover a:link,
        .home li:hover a:visited {
            text-decoration: none;
            padding: 15px;
            color: #FFFFFF;
            background-color: #1B80CF;
        }
        
        .content {
            line-height: 1.8vmax;
            font-size: 1.2vmax;
            font-family: 'Arial';
            margin-top: 15vh;
            width: 90%;
        }
        
        .content h2,
        h3,
        h4 {
            color: #1B80CF;
        }
        
        .content a:link,
        .content a:visited {
            color: #1B80CF;
        }
        
        .content h3 {
            color: #1B80CF;
        }
        
        .content h2::before,
        .content h3::before {
            display: block;
            content: " ";
            visibility: hidden;
            height: 50px;
            margin-top: -50px;
            pointer-events: none;
            background-color: #FFFFFF;
        }
        
        .content a:link,
        .content a:visited {
            color: #1B80CF;
        }
        
        .content li {
            margin: 5px;
        }
        
        .page {
            width: 65vw;
            height: 100%;
            margin-left: 30vw;
            overflow: hidden;
            padding: 0 1em;
            font-family: 'Arial';
        }
        
        .page img {
            max-width: 100%;
            max-height: 100%;
        }
        
        @media (max-width: 640px),
        screen and (orientation: portrait) {
            body {
                max-width: 100%;
                max-height: 100%;
            }
            #sidebar {
                position: fixed;
                background-color: #1B80CF;
                top: 0;
                left: 0;
                bottom: 80vh;
                width: 100vw;
            }
            #sidebar .title {
                text-align: center;
                position: fixed;
                margin-top: 6vh;
                left: 0px;
                right: 0px;
                line-height: 3.5vmax;
                font-size: 1.5vmax;
                font-family: 'Arial';
            }
            #sidebar .subtitle {
                text-align: center;
                top: 5vh;
                left: 0px;
                right: 0px;
                position: fixed;
                margin-top: 10vh;
                font-size: 1.5vmax;
            }
            #sidebar .title a:link,
            #sidebar .title a:visited {
                text-align: center;
                color: #FFFFFF;
            }
            #sidebar .subtitle a:link,
            #sidebar .subtitle a:visited {
                text-align: center;
                color: #FFFFFF;
            }
            .home {
                z-index: 100;
                width: 100%;
                background-color: #1B80CF;
                font-size: 1.5vmax;
            }
            .home a:link,
            .home a:visited {
                text-decoration: none;
                color: #FFFFFF;
            }
            .content {
                line-height: 3.8vmax;
                font-size: 1.8vmax;
                font-family: 'Arial';
                margin-top: 22vh;
            }
            .content a:link,
            .content a:visited {
                color: #1B80CF;
            }
            .page {
                top: 40vh;
                width: 95%;
                margin-left: 0vw;
            }
            .page img {
                max-width: 100%;
                max-height: 100%;
                border: 0;
            }
        }
        
        @media print {
            #sidebar {
                width: 100%;
                top: 0;
                position: relative;
                padding-bottom: 3vh;
            }
            #sidebar .title {
                margin-top: 0;
            }
            .home {
                display: none;
            }
            .page {
                margin-left: 2vw;
                width: 100%;
                font-size: 1.2vmax;
            }
            .content {
                line-height: 1.2vmax;
                font-size: 1vmax;
            }
        }
    </style>
</head>

<body vocab="http://schema.org/">
    <div class="page">
        <div class="home">
            <ul typeof="BreadcrumbList">
                <li property="itemListElement" typeof="ListItem">
                    <a property="item" typeof="WebPage" href="../index.html">
                        <span property="name">Home</span>
                    </a>
                </li>
                <li property="itemListElement" typeof="ListItem">
                    <a property="item" typeof="WebPage" href="../research/research.html">
                        <span property="name">Research</span>
                    </a>
                </li>
            </ul>
        </div>
        <div id="sidebar">
            <div class="title">
                <h1><a href="./services.html">Introduction to Web Services</a></h1>
            </div>
            <div class="subtitle">
                <h3><a href="../about.html">John Samuel</a></h3>
            </div>
        </div>

        <div class="content">
            <p style="color:red;text-align:center">NOTE: Article in Progress</p>
            <h2>1. Web Services</h2>
            <p>Web services</p>
            <h3>1.1. Introduction</h3>
            <img width="300px" src="../../fr/enseignement/cours/2018/TLIA/640px-Apache_HTTP_server_logo_(2016).svg.png" />
            <ol>
                <li>Human-machine interaction
                    <ul>
                        <li>client-server architecture</li>
                        <li>URL rewriting</li>
                    </ul>
                </li>
                <li>Machine-machine interaction
                    <ul>
                        <li>REST architecture style</li>
                    </ul>
                    <li>API documentation</li>
            </ol>
            <h4>Interaction homme-machine</h4>
            <figure>
                <img src="../../fr/enseignement/cours/2018/TLIA/human-machine.svg" height="700vh" />
            </figure>
            <h4>Human-machine interaction</h4>
            <ul>
                <li>Communication avec une machine (un PC ou un portable)</li>
                <li>Modes d'interaction (modes écrit, gestuel, visuel, parlé)</li>
            </ul>
            <figure>
                <img src="../../fr/enseignement/cours/2018/TLIA/client-server.svg" height="700vh" />
            </figure>
            <ul>
                <li>Utilisation de plusieurs machines</li>
                <li>Communication entre les machines en utilisant des protocoles
                    <ul>
                        <li>TCP/IP</li>
                        <li>UDP</li>
                    </ul>
                </li>
                <li>Plusieurs configurations possibles</li>
                <li>Architecture client-serveur
                    <ul>
                        <li>Répartition des tâches entre machines</li>
                        <li>Client envoie des requêtes</li>
                        <li>Serveur répond aux requêtes</li>
                    </ul>
                </li>
            </ul>
            <figure>
                <img src="../../fr/enseignement/cours/2018/TLIA/client-servers.svg" height="700vh" />
            </figure>
            <ul>
                <li>Identification des machines</li>
                <li>Dépasser les limitations d'une seule machine</li>
                <li>Protocoles de communication client-serveur
                    <ul>
                        <li>FTP</li>
                        <li>HTTP</li>
                        <li>SMTP</li>
                    </ul>
                </li>
            </ul>
            <figure>
                <img src="../../fr/enseignement/cours/2018/TLIA/client-servers.svg" height="700vh" />
            </figure>
            <ul>
                <li>Identification et localisation des multiples ressources</li>
                <li>Utilisation des marque-pages par l'utilisateur</li>
                <li>Réduction d'URL</li>
                <li>Redirection d'URL</li>
            </ul>
            <h3>1.2 URL choice</h3>
            <h4>URL</h4>
            <code><span style="color:blue">
          https://www.example.com/index.html<br/>
        </code>
            <p>ou</p>
            <code><span style="color:blue">
          https://www.example.com/index.php<br/>
        </code>
            <p>ou</p>
            <code><span style="color:blue">
          https://www.example.com/<br/>
        </code>
            <code><span style="color:blue">
          https://www.example.com/index.php?lang=fr<br/>
          https://www.example.com/index.php?lang=en<br/>
          https://www.example.com/index.php?lang=es</span>
        </code>
            <p>ou</p>
            <code><span style="color:blue">
          https://www.example.com/fr/index.php<br/>
          https://www.example.com/en/index.php<br/>
          https://www.example.com/es/index.php</span>
        </code>
            <code><span style="color:blue">
          https://www.example.com/fr/index.php<br/>
          https://www.example.com/en/index.php<br/>
          https://www.example.com/es/index.php</span>
        </code>
            <p>ou</p>
            <code><span style="color:blue">
          https://www.example.com/fr/<br/>
          https://www.example.com/en/<br/>
          https://www.example.com/es/</span>
        </code>
            <code><span style="color:blue">
          https://www.example.com/index.php?operation=listStudents<br/>
        </code>
            <p>ou</p>
            <code><span style="color:blue">
          https://www.example.com/students/</span>
        </code>
            <code><span style="color:blue">
          https://www.example.com/index.php?operation=showStudent<br/>
          https://www.example.com/index.php?operation=AddStudent<br/>
          https://www.example.com/index.php?operation=deleteStudent<br/>
          https://www.example.com/index.php?operation=updateStudent<br/>
        </code>
            <p>ou</p>
            <code><span style="color:blue">
          https://www.example.com/students/1/</span>
        </code>
            <h3>1.3.URL rewriting</h3>
            <img width="300px" src="../../fr/enseignement/cours/2018/TLIA/640px-Apache_HTTP_server_logo_(2016).svg.png" />
            <h4>Installation d'apache</h4>
            <code>$ sudo apt install apache2 php7.0 libapache2-mod-php7.0</code>
            <h4>Activation de réécriture</h4>
            <code>$ sudo a2enmod rewrite</br>
              $ sudo service apache2 restart
        </code>
            <h4>Vérification</h4>
            <code><span style="color:green">&lt;?php</span> </br>
              &nbsp;<span style="color:blue">phpinfo</span>()</br>
              <span style="color:green">?></span>
        </code>
            <p>
                <img style="width:60%" src="../../fr/enseignement/cours/2018/TLIA/php_mod_rewrite.png" alt="screenshot of php mod_rewrite enabled" />
            </p>
            <h4>Configuration (Activation des fichiers .htaccess)</h4>
            <p>Vérifier le fichier <span style="color:blue">/etc/apache2/sites-available/000-default.conf</span></p>
            <p>
                <code>
          <span style="color:blue">DocumentRoot</span> /var/www/html<br>
          ..</br>
          &lt;<span style="color:green">Directory</span> <span style="color:red">"/var/www/html"</span>&gt;<br>
              &nbsp;<span style="color:blue">AllowOverride</span> All<br>
          &lt;/<span style="color:green">Directory</span>><br>
        </code>
            </p>
            <h4>Redémarrer apache2</h4>
            <code> $ sudo service apache2 restart
        </code>
            <h4>Redirection transparente vers index.php</h4>
            <h4>.htaccess</h4>
            <p>
                <code>
          DirectoryIndex index.php<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span></li>
                <li><span style="color:blue">https://example.com/fr/</span> est redirigé vers le lien <span style="color:blue">https://example.com/fr/index.php</span></li>
            </ul>
            <h4>Redirection transparente vers index.php</h4>
            <h4>.htaccess</h4>
            <p>
                <code>
          DirectoryIndex accueil.php<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/</span> est redirigé vers le lien <span style="color:blue">https://example.com/accueil.php</span></li>
                <li><span style="color:blue">https://example.com/fr/</span> est redirigé vers le lien <span style="color:blue">https://example.com/fr/accueil.php</span></li>
            </ul>
            <h4>Redirection transparente vers index.php</h4>
            <h4>.htaccess</h4>
            <p>
                <code>
          DirectoryIndex accueil.php index.php<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/</span> est redirigé vers le lien <span style="color:blue">https://example.com/accueil.php</span>, si présent, sinon</li>
                <li><span style="color:blue">https://example.com/</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span></li>
            </ul>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          RewriteRule ^test.html$ /index.php<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/test.html</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span></li>
            </ul>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          RewriteRule "^.+.html$" /index.php<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/abc.html</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span></li>
                <li><span style="color:blue">https://example.com/abcd.html</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span></li>
            </ul>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          ErrorDocument 404 /404.php<br>
          RewriteRule "^(.+)/index.php$" /index.php?lang=$1<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/fr/index.php</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span> avec des arguments <span style="color:blue">lang</span>=<span style="color:red">fr</span>                    </li>
                <li><span style="color:blue">https://example.com/en/index.php</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span> avec des arguments <span style="color:blue">lang</span>=<span style="color:red">en</span>                    </li>
            </ul>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          RewriteRule "^(.+)/index.html$" /index.php?lang=$1<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/fr/index.html</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span> avec des arguments <span style="color:blue">lang</span>=<span style="color:red">fr</span>                    </li>
                <li><span style="color:blue">https://example.com/en/index.html</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span> avec des arguments <span style="color:blue">lang</span>=<span style="color:red">en</span>                    </li>
            </ul>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          RewriteRule ^students/(.+)/$ /students/index.php?id=$1<br/>
          RewriteRule ^students/(.+)/(.+)$ /students/index.php?id=$1&amp;param=$2<br/>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/students/1/</span> est redirigé vers le lien <span style="color:blue">https://example.com/students/index.php</span> avec des arguments <span style="color:blue">id</span>=<span style="color:red">1</span>                    </li>
                <li><span style="color:blue">https://example.com/students/1/module1/</span> est redirigé vers le lien <span style="color:blue">https://example.com/students/index.php</span> avec des arguments <span style="color:blue">id</span>=<span style="color:red">1</span>                    et <span style="color:blue">param</span>=<span style="color:red">module1</span></li>
            </ul>
            <h4>Erreur ressource non trouvée</h4>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          ErrorDocument 404 /404.php<br>
        </code>
            </p>
            <ul>
                <li>Les liens inexistants sont redirigés vers le lien <span style="color:blue">https://example.com/404.php</span></li>
            </ul>
            <h3>1.4. Retrieving values from a HTML form</h3>
            <pre>
     &lt;<span style="color:green">fieldset</span>&gt;
       &lt;<span style="color:green">legend</span>&gt;Etudiant.e&lt;/legend&gt;
        &lt;<span style="color:green">div</span>&gt;
         &lt;<span style="color:green"><span style="color:green">label</span></span> <span style="color:blue">for</span>=<span style="color:red">"nom"</span>&gt;Nom&lt;/<span style="color:green">label</span>&gt;&lt;<span style="color:green">input</span> <span style="color:blue">type</span>="<span style="color:red">text</span>" <span style="color:blue">id</span>=<span style="color:red">"nom"</span> name=<span style="color:red">"nom"</span>/&gt;
        &lt;/<span style="color:green">div</span>&gt; &lt;<span style="color:green">div</span>&gt;
         &lt;<span style="color:green"><span style="color:green">label</span></span> <span style="color:blue">for</span>=<span style="color:red">"prenom"</span>&gt;Prénom&lt;/<span style="color:green">label</span>&gt;&lt;<span style="color:green">input</span> <span style="color:blue">type</span>=<span style="color:red">"text"</span> name=<span style="color:red">"prenom"</span>/&gt;
        &lt;/<span style="color:green">div</span>&gt; &lt;<span style="color:green">div</span>&gt;
         &lt;<span style="color:green"><span style="color:green">label</span></span> <span style="color:blue">for</span>=<span style="color:red">"prenom"</span>&gt;Diplôme&lt;/<span style="color:green">label</span>&gt;
         &lt;<span style="color:green">select</span> <span style="color:blue">id</span>=<span style="color:red">"diplome"</span> name=<span style="color:red">"diplome"</span>&gt;
           &lt;<span style="color:green">option</span>&gt;IRC&lt;/option&gt;
           &lt;<span style="color:green">option</span>&gt;ETI&lt;/option&gt;
         &lt;/<span style="color:green">select</span>&gt;
        &lt;/<span style="color:green">div</span>&gt;
     &lt;/<span style="color:green">fieldset</span>&gt;
   </pre>
            <h4>Récupération des valeurs</h4>
            <fieldset>
                <legend>Etudiant.e</legend>
                <label for="nom">Nom</label><input type="text" id="nom" name="nom" />
                <label for="prenom">Prénom</label><input type="text" name="prenom" />
                <label for="prenom">Diplôme</label>
                <select id="diplome" name="diplome">
           <option>IRC</option>
           <option>ETI</option>
         </select>
            </fieldset>
            <button type="submit">Submit</button>
            <h4>method="get"</h4>
            <pre>
     &lt;<span style="color:green">form</span> <span style="color:blue">action</span>=<span style="color:red">request.php"</span> <span style="color:blue">method</span>=<span style="color:red">"get"</span> &gt;
       &lt;<span style="color:green">fieldset</span>&gt;
       ...
       &lt;/<span style="color:green">fieldset</span>&gt;
       &lt;<span style="color:green">button</span> <span style="color:blue">type</span>=<span style="color:red">"submit"</span>&gt;Submit&lt;/<span style="color:green">button</span>&gt;
     &lt;/<span style="color:green">form</span>&gt;
   </pre>
            <code>
          &lt;?php<br>
          $method = $_SERVER[<span style="color:red">'REQUEST_METHOD'</span>];<br>
          <span style="color:green">echo</span> <span style="color:red">"method: "</span>.$method;<br>
          ?&gt;<br>
        </code>
            <h4>method="get"</h4>
            <pre>
     &lt;<span style="color:green">form</span> <span style="color:blue">action</span>=<span style="color:red">request.php"</span> <span style="color:blue">method</span>=<span style="color:red">"get"</span> &gt;
       &lt;<span style="color:green">fieldset</span>&gt;
       ...
       &lt;/<span style="color:green">fieldset</span>&gt;
       &lt;<span style="color:green">button</span> <span style="color:blue">type</span>=<span style="color:red">"submit"</span>&gt;Submit&lt;/<span style="color:green">button</span>&gt;
     &lt;/<span style="color:green">form</span>&gt;
   </pre>
            <h4>URL (navigateur) et l'affichage sur le serveur</h4>
            <pre>
      http://localhost/request.php?nom=aple&prenom=mango&diplome=IRC
      method: GET
   </pre>
            <h4>method="post"</h4>
            <pre>
     &lt;<span style="color:green">form</span> <span style="color:blue">action</span>=<span style="color:red">request.php"</span> <span style="color:blue">method</span>=<span style="color:red">"post"</span> &gt;
       &lt;<span style="color:green">fieldset</span>&gt;
       ...
       &lt;/<span style="color:green">fieldset</span>&gt;
       &lt;<span style="color:green">button</span> <span style="color:blue">type</span>=<span style="color:red">"submit"</span>&gt;Submit&lt;/<span style="color:green">button</span>&gt;
     &lt;/<span style="color:green">form</span>&gt;
   </pre>
            <h4>URL (navigateur) et l'affichage sur le serveur</h4>
            <pre>
      http://localhost/request.php
      method: POST
   </pre>
            <h4>method="put"</h4>
            <pre>
     &lt;<span style="color:green">form</span> <span style="color:blue">action</span>=<span style="color:red">request.php"</span> <span style="color:blue">method</span>=<span style="color:red">"PUT"</span> &gt;
       &lt;<span style="color:green">fieldset</span>&gt;
       ...
       &lt;/<span style="color:green">fieldset</span>&gt;
       &lt;<span style="color:green">button</span> <span style="color:blue">type</span>=<span style="color:red">"submit"</span>&gt;Submit&lt;/<span style="color:green">button</span>&gt;
     &lt;/<span style="color:green">form</span>&gt;
   </pre>
            <h4>URL (navigateur) et l'affichage sur le serveur</h4>
            <pre>
      http://localhost/request.php?nom=aple&prenom=mango&diplome=IRC
      method: GET
   </pre>
            <h4>method="delete"</h4>
            <pre>
     &lt;<span style="color:green">form</span> <span style="color:blue">action</span>=<span style="color:red">request.php"</span> <span style="color:blue">method</span>=<span style="color:red">"delete"</span> &gt;
       &lt;<span style="color:green">fieldset</span>&gt;
       ...
       &lt;/<span style="color:green">fieldset</span>&gt;
       &lt;<span style="color:green">button</span> <span style="color:blue">type</span>=<span style="color:red">"submit"</span>&gt;Submit&lt;/<span style="color:green">button</span>&gt;
     &lt;/<span style="color:green">form</span>&gt;
   </pre>
            <h4>URL (navigateur) et l'affichage sur le serveur</h4>
            <pre>
      http://localhost/request.php?nom=aple&prenom=mango&diplome=IRC
      method: GET
   </pre>
            <h3>1.5. Example</h3>
            <h4>.htaccess</h4>
            <p>
                <code>
          RewriteEngine on<br>
          ErrorDocument 404 /404.php<br>
          RewriteRule "^(.+)/index.php$" /index.php?lang=$1<br>
        </code>
            </p>
            <ul>
                <li><span style="color:blue">https://example.com/fr/index.php</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span> avec des arguments <span style="color:blue">lang</span>=<span style="color:red">fr</span>                    </li>
                <li><span style="color:blue">https://example.com/en/index.php</span> est redirigé vers le lien <span style="color:blue">https://example.com/index.php</span> avec des arguments <span style="color:blue">lang</span>=<span style="color:red">en</span>                    </li>
            </ul>
            <h4>Récupération des valeurs GET: PHP</h4>
            <code>
          &lt;?php<br>
          $language = <span style="color:red">"fr"</span>;<br>
          <span style="color:green">if</span>($_GET[<span style="color:red">"lang"</span>]) {<br>
          &nbsp;&nbsp;$language = $_GET[<span style="color:red">"lang"</span>];<br>
          }<br>
          <span style="color:green">if</span>($language == <span style="color:red">"en"</span>) {<br>
          &nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Hello!"</span>;<br>
          }<br>
          <span style="color:green">else if</span>($language == <span style="color:red">"fr"</span>) {<br>
          &nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Bonjour!"</span>;<br>
          }<br>
          ?&gt;<br>
        </code>
            <h4>Récupération des valeurs GET: PHP</h4>
            <code>
          &lt;?php<br>
          <span style="color:green">if</span>($_GET[<span style="color:red">"nom"</span>] &&
           $_GET[<span style="color:red">"prenom"</span>] ) {<br>
          &nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Bonjour! "</span>.$_GET[<span style="color:red">"prenom"</span>].<span style="color:red">" "</span>.$_GET[<span style="color:red">"nom"</span>];<br>
          }<br>
          ?&gt;<br>
        </code>
            <h4>POST: PHP</h4>
            <code>
          &lt;?php<br>
          <span style="color:green">if</span>($_POST[<span style="color:red">"nom"</span>] &&
            $_POST[<span style="color:red">"prenom"</span>] ) {<br>
          &nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Bonjour! "</span>.$_POST[<span style="color:red">"prenom"</span>].<span style="color:red">" "</span>.$_POST[<span style="color:red">"nom"</span>];<br>
          }<br>
          ?&gt;<br>
        </code>
            <h4>PUT, DELETE: PHP</h4>
            <code>
          &lt;?php<br>
          <span style="color:green">if</span>($_GET[<span style="color:red">"nom"</span>] &&
            $_GET[<span style="color:red">"prenom"</span>] ) {<br>
          &nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Bonjour! "</span>.$_GET[<span style="color:red">"prenom"</span>].<span style="color:red">" "</span>.$_GET[<span style="color:red">"nom"</span>];<br>
          }<br>
          ?&gt;<br>
        </code>
            <h4>GET, POST, PUT, DELETE: PHP</h4>
            <code>
          &lt;?php<br>
          <span style="color:green">if</span>(strcasecmp($_SERVER[<span style="color:red">"REQUEST_METHOD"</span>], <span style="color:red">"POST"</span>) == 0) {</br>
          &nbsp;&nbsp;<span style="color:green">if</span>($_POST[<span style="color:red">"nom"</span>] &&
            $_POST[<span style="color:red">"prenom"</span>] ) {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Bonjour! "</span>.$_POST[<span style="color:red">"prenom"</span>].<span style="color:red">" "</span>.$_POST[<span style="color:red">"nom"</span>];<br>
          &nbsp;&nbsp;}<br>
          }<br>
          <span style="color:green">else</span> {<br>
          &nbsp;&nbsp;<span style="color:green">if</span>($_GET[<span style="color:red">"nom"</span>] &&
            $_GET[<span style="color:red">"prenom"</span>] ) {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green">echo</span> <span style="color:red">"Bonjour! "</span>.$_GET[<span style="color:red">"prenom"</span>].<span style="color:red">" "</span>.$_GET[<span style="color:red">"nom"</span>];<br>
          &nbsp;&nbsp;}<br>
          }<br>
          ?&gt;<br>
        </code>
            <h3>1.6. Debugging: Logging</h3>
            <h4>Enregistrement de données (Serveur Apache)</h4>
            <pre>
     $ tail /var/log/apache2/access.log
   </pre>
            <pre>
127.0.0.1 - - [14/Nov/2018:14:46:49 +0100] "GET / HTTP/1.1" 200 3477 "-"
         "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0"
127.0.0.1 - - [14/Nov/2018:14:46:49 +0100] "GET /icons/ubuntu-logo.png HTTP/1.1" 304 180 "http://localhost/"
         "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0"
127.0.0.1 - - [14/Nov/2018:14:46:49 +0100] "GET /favicon.ico HTTP/1.1" 404 294 "-"
         "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0"
   </pre>
            <pre>
     $ tail /var/log/apache2/error.log
   </pre>
            <pre>
[Wed Nov 14 09:53:39.563044 2018] [mpm_prefork:notice] [pid 849]
         AH00163: Apache/2.4.29 (Ubuntu) configured -- resuming normal operations
[Wed Nov 14 09:53:39.563066 2018] [core:notice] [pid 849]
         AH00094: Command line: '/usr/sbin/apache2'
[Wed Nov 14 11:35:35.060638 2018] [mpm_prefork:notice] [pid 849]
         AH00169: caught SIGTERM, shutting down
   </pre>
            <figure>
                <img src="../../fr/enseignement/cours/2018/BigData/images/Screenshot_2018-11-14 core - Apache HTTP Server Version 2 4.png" height="300vh" />
                <figcaption>LogLevel (https://httpd.apache.org/docs/2.4/mod/core.html#loglevel)</figcaption>
            </figure>
            <figure>
                <img src="../../fr/enseignement/cours/2018/BigData/images/Screenshot_2018-11-14 core - Apache HTTP Server Version 2 4LogFormat1.png" height="300vh" />
                <figcaption>Log Format (https://httpd.apache.org/docs/2.4/mod/core.html#errorlogformat)</figcaption>
            </figure>
            <h2>2. REST architecture style</h2>
            <ul>
                <li>Interaction machine à machine</li>
                <li>Composants faiblement couplés</li>
                <li>Interopérabilité entre les machines</li>
                <li>Vers des systèmes totalement autonomes</li>
            </ul>
            <ul>
                <li>Representational state transfer</li>
                <li>Un style d'architecture pour les systèmes hypermédia distribués</li>
                <li>Proposé par Roy Fielding en 2000</li>
                <li>Interface machine à machine</li>
            </ul>
            <h3>2.1. REST: Contraintes</h3>
            <p>Une architecture REST doit respecter les six contraintes suivantes</p>
            <ol>
                <li>un architecture client-serveur</li>
                <li>Un serveur sans état</li>
                <li>Avec cache</li>
                <li>À interface uniforme</li>
                <li>En couches</li>
                <li>Code à la demande (facultatif)</li>
            </ol>
            <h4>1. Architecture client-serveur</h4>
            <figure>
                <img src="../../fr/enseignement/cours/2018/TLIA/client-server.svg" height="300vh" />
            </figure>
            <figure>
                <img src="../../fr/enseignement/cours/2018/TLIA/client-servers.svg" height="500vh" />
            </figure>
            <h4>2. Un serveur sans état</h4>
            <ul>
                <li>La communication s'effectue sans conservation de l'état de la session sur le serveur</li>
                <li>Les requêtes contiennent toute l'information</li>
                <li>Amélioration de l'extensibilité du système</li>
            </ul>
            <h4>3. Avec cache</h3>
                <ul>
                    <li>Les clients peuvent mettre en cache les réponses (par exemple: cache du navigateur)</li>
                    <li>Les serveurs peuvent mettre en cache les réponses (par exemple: memcache pour les requêtes fréquemment posées)</li>
                    <li>Amélioration de l'extensibilité et la performance du système</li>
                </ul>
                <h4>4. À interface uniforme</h4>
                <ul>
                    <li>simplifie et découple l'architecture</li>
                    <li>permet à chaque composant d'évoluer indépendamment</li>
                </ul>
                <h4>4. À interface uniforme</h4>
                <ol>
                    <li>identification des ressources</li>
                    <li>manipulation des ressources par des représentations (XML, JSON etc.) </li>
                    <li>messages auto-descriptifs </li>
                    <li>hypermédia comme moteur d'état de l'application</li>
                </ol>
                <h4>4. À interface uniforme</h4>
                <h4>Hypermédia en tant que moteur de l'état d'application</h4>
                <p>Un client REST n'a besoin d'aucune connaissance préalable sur la façon d'interagir avec une application ou un serveur particulier au-delà d'une compréhension générique de l'hypermédia. </p>
                <h4>5. En couches</h4>
                <ul>
                    <li>Un client ne peut pas dire s'il est connecté directement au serveur final ou à un serveur intermédiaire.</li>
                    <li>permet d'ajouter des équilibreurs de charge</li>
                </ul>
                <h4>6. Code à la demande (facultatif) </h4>
                <ul>
                    <li>Les serveurs peuvent temporairement étendre ou modifier les fonctionnalités d'un client en lui transférant du code exécutable.</li>
                    <li>Exemples: Applets Java, scripts Javascript</li>
                </ul>
                <h4>API Github (REST)</h4>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/githubapi.png" alt="REST API of Github" />
                </figure>
                <h4>RESTful Services Web</h4>
                <p>Différents niveaux [2]</p>
                <ol>
                    <li>Niveau 0: HTTP</li>
                    <li>Niveau 1: Ressources</li>
                    <li>Niveau 2: Verbs HTTP (GET, POST, PUT, DELETE)</li>
                    <li>Niveau 3: Hypermedia</li>
                </ol>
                <code>
    <span style="color:blue">https://www.example.com/students/</span><br/>
    <span style="color:blue">https://www.example.com/students/1/</span><br/>
    <span style="color:blue">https://www.example.com/students/1/module1/</span><br/>
  </code>
                <h3>2.2. HTTP codes</h3>
                <h4>Liste des codes HTTP</h4>
                <ol>
                    <li>1xx - Information</li>
                    <li>2xx - Succès</li>
                    <li>3xx - Redirection</li>
                    <li>4xx - Erreur du client web</li>
                    <li>5xx - Erreur du serveur / du serveur d'application</li>
                </ol>
                <h4>Liste des codes HTTP</h4>
                <p>Les codes les plus courants sont :</p>
                <ol>
                    <li>200 : succès de la requête ;</li>
                    <li>301 et 302 : redirection, respectivement permanente et temporaire ;</li>
                    <li>401 : utilisateur non authentifié ;</li>
                    <li>403 : accès refusé ;</li>
                    <li>404 : page non trouvée ;</li>
                    <li>500 et 503 : erreur serveur ;</li>
                    <li>504 : le serveur n'a pas répondu.</li>
                </ol>
                <h3>2.3. Creating RESTful API</h3>
                <h4>cURL</h4>
                <ol>
                    <li>client URL request library : « bibliothèque de requêtes aux URL pour les clients »</li>
                </ol>
                <code>
    $ curl example.com
  </code>
                <h4>cURL: en-tête (header)</h4>
                <code>
    $ curl -I http://localhost/index.php
   </code>
                <h4>Sortie</h4>
                <code>
    HTTP/1.1 200 OK</br>
    Date: Thu, 26 Apr 2018 18:54:18 GMT</br>
    Server: Apache/2.4.18 (Ubuntu)</br>
    Content-Length: 14</br>
    Content-Type: text/html; charset=UTF-8</br>
   </code>
                <h4>cURL: GET</h4>
                <code>
    $ curl http://localhost/index.php
   </code>
                <code>
    $ curl -X GET http://localhost/index.php
   </code>
                <h4>cURL: POST</h4>
                <code>
    $ curl -X POST http://localhost/index.php
   </code>
                <code>
    $ curl -X POST --data 'user:abc' http://localhost/index.php
   </code>
                <code>
    $ curl -X POST -d @file.json http://localhost/index.php
   </code>
                <h4>cURL: PUT</h4>
                <code>
    $ curl -X PUT http://localhost/index.php
   </code>
                <code>
    $ curl -X PUT --data '' http://localhost/index.php
   </code>
                <code>
    $ curl -X PUT -d @file.json http://localhost/index.php
   </code>
                <h4>cURL: DELETE</h4>
                <code>
    $ curl -X DELETE http://localhost/index.php
   </code>
                <h4>méthode HTTP</h4>
                <code>
    $_SERVER['REQUEST_METHOD']
   </code>
                <h4>PHP: récupération de paramètres</h4>
                <code>
    $data = json_decode(file_get_contents('php://input'), true);
   </code>
                <h4>PHP: </h4>
                <code>
     echo http_response_code(521);
   </code>
                <h4>.htaccess</h4>
                <p>
                    <code>
          RewriteEngine on</br>
          ErrorDocument 404 /404.php</br>
          RewriteRule ^(.+)/$ /index.php?resource=$1</br>
          RewriteRule ^(.+)/(.+)$ /index.php?resource=$1&id=$2</br>
        </code>
                </p>
                <h2>3. API Documentation</h2>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/githubapi.png" alt="REST API of Github" />
                </figure>
                <h4>API Documenation</h4>
                <ol>
                    <li>Documentation lisible par l'homme</li>
                    <li>Documentation lisible par machine</li>
                    <li>Documentation lisible par l'homme et machine</li>
                </ol>
                <h4>Documentation lisible par l'homme: Développeur/Développeuse</h4>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/githubapi.png" alt="REST API of Github" />
                </figure>
                <ol>
                    <li>lit la documentation de l'API en format texte ou HTML</li>
                    <li>développe du code pour l'intégration avec les services Web</li>
                    <li>ajoute code métier</li>
                </ol>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/githubapi.png" alt="REST API of Github" />
                </figure>
                <h4>Documentation lisible par l'homme: Développeur/Développeuse</h4>
                <ol>
                    <li>surveille les changements de l'API</li>
                    <li>Réécrit le code si l'API change</li>
                </ol>
                <h4>API</h4>
                <ol>
                    <li>liste des opérations (méthodes)
                        <ul>
                            <li>paramètres d'entrée et de sortie</li>
                            <li>erreurs</li>
                        </ul>
                        <li>format du messagei (json, xml etc.)</li>
                        <li>mécanisme d'authentification</li>
                        <li>mécanisme d'autorisation</li>
                </ol>
                <h4>Documentation lisible par machine: WSDL </h4>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/WSDL_11vs20.png" alt="WSDL 1.1 vs 2.0" height="300vh" />
                </figure>
                <p>Le WSDL (Web Services Description Language) sert à décrire</p>
                <ol>
                    <li>le protocole de communication (SOAP RPC ou SOAP orienté message)</li>
                    <li>les méthodes (opérations)</li>
                    <li>le format de messages (les types de données)</li>
                    <li>la localisation du service</li>
                </ol>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/Screenshot_2019-04-30 Web Services Description Language - Wikipedia.png" alt="WSDL 1.1 vs 2.0" height="400vh" />
                    <figcaption>WSDL: documentation, types, interfaces</figcaption>
                </figure>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/Screenshot_2019-04-30 Web Services Description Language - Wikipedia2.png" alt="WSDL 1.1 vs 2.0" height="400vh" />
                    <figcaption>WSDL: binding, services</figcaption>
                </figure>
                <h4>WSDL Libraries</h4>
                <ol>
                    <li>Java: wsimport, WSDL4J,..</li>
                    <li>Python: zeep,..</li>
                </ol>
                <h4>WADL (Web Application Description Language)</h4>
                <ol>
                    <li>décrit des applications REST</li>
                    <li>décrit des ressources, méthodes, paramètres et réponses</figcaption>
                </ol>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/Screenshot_2019-04-30 Web Application Description Language - Wikipedia.png" alt="WADL" height="400vh" />
                    <figcaption>WADL: ressources, méthodes, paramètres et réponses</figcaption>
                </figure>
                <h4>SA-WSDL (Semantic Annotations for WSDL and XML Schema)</h4>
                <ol>
                    <li>définit un ensemble d'attributs d'extension pour WSDL et XSD</li>
                    <li>permet des annotations sémantiques en utilisant des ontologies</li>
                </ol>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/Screenshot_2019-04-30 Semantic Annotations for WSDL and XML Schema.png" alt="WADL" height="250vh" />
                    <figcaption>SA-WSDL: Annotation d'un fichier WSDL</figcaption>
                </figure>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/Screenshot_2019-04-30 Semantic Annotations for WSDL and XML Schema2.png" alt="WADL" height="250vh" />
                    <figcaption>SA-WSDL: Annotation d'un fichier WSDL</figcaption>
                </figure>
                <h4>hRESTS</h4>
                <ol>
                    <li>Documentation lisible par l'homme et machine</li>
                    <li>utilise microformat HTML</li>
                </ol>
                <figure>
                    <img src="../../fr/enseignement/cours/2018/TLIA/Screenshot_2019-04-30 2008-12-wi-hrests pdf.png" alt="WADL" height="250vh" />
                    <figcaption>hRESTS: microformat</figcaption>
                </figure>
                <h2>References</h2>
                <ol>
                    <li>Rodríguez, Carlos, et al. <b>REST APIs: a large-scale analysis of compliance with principles and best practices.</b> International Conference on Web Engineering. Springer, Cham, 2016.</li>
                    <li>Pautasso, Cesare. <b>RESTful web services: principles, patterns, emerging technologies.</b> Web Services Foundations. Springer, New York, NY, 2014. 31-51.</li>
                    <li>Samuel, John, and Christophe Rey. <b>Integration of Multiple Heterogeneous and Autonomous Web Services using Mediation Approach: Open Challenges.</b> Journal on Advances in Theoretical and Applied Informatics 2.2 (2016): 38-46.</li>
                    <li>Kopecký, J., Gomadam, K., & Vitvar, T. <b>Hrests: an html microformat for describing restful web services</b>. IEEE/WIC/ACM International Conference on Web Intelligence and Intelligent Agent Technology (2008), 1, 619–625. https://doi.org/10.1109/WIIAT.2008.379
                    </li>
                    <li><a href="https://fr.wikipedia.org/wiki/Representational_state_transfer">https://fr.wikipedia.org/wiki/Representational_state_transfer</a></li>
                    <li><a href="https://fr.wikipedia.org/wiki/Client%E2%80%93serveur">https://fr.wikipedia.org/wiki/Client%E2%80%93serveur</a></li>
                    <li><a href="https://fr.wikipedia.org/wiki/HATEOAS">https://fr.wikipedia.org/wiki/HATEOAS</a></li>
                    <li><a href="http://httpd.apache.org/docs/current/mod/core.html#allowoverride">Apache Allowoverride</a></li>
                    <li><a href="http://httpd.apache.org/docs/current/howto/htaccess.html">.htaccess</a></li>
                    <li><a href="https://fr.wikipedia.org/wiki/CURL">https://fr.wikipedia.org/wiki/CURL</a></li>
                    <li><a href="https://w3c.github.io/html/sec-forms.html#form-control-infrastructure-form-submission">Form submission (W3C)</a></li>
                    <li><a href="https://en.wikipedia.org/wiki/Web_Services_Description_Language">https://en.wikipedia.org/wiki/Web_Services_Description_Language</a></li>
                    <li><a href="https://fr.wikipedia.org/wiki/Web_Services_Description_Language">https://fr.wikipedia.org/wiki/Web_Services_Description_Language</a></li>
                    <li><a href="https://fr.wikipedia.org/wiki/Web_Application_Description_Language">https://fr.wikipedia.org/wiki/Web_Application_Description_Language</a></li>
                    <li><a href="https://www.w3.org/Submission/wadl/">https://www.w3.org/Submission/wadl/</a></li>
                    <li><a href="https://docs.oracle.com/javase/6/docs/technotes/tools/share/wsimport.html">https://docs.oracle.com/javase/6/docs/technotes/tools/share/wsimport.html</a></li>
                    <li><a href="https://sourceforge.net/projects/wsdl4j/">https://sourceforge.net/projects/wsdl4j/</a></li>
                    <li><a href="https://pypi.org/project/zeep/">https://pypi.org/project/zeep/</a></li>
                    </ul>
        </div>
    </div>
</body>

</html>